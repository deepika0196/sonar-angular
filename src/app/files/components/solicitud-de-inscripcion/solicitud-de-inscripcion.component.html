<div *transloco="let t">
  <div class="grid">
    <div class="col-6">
      <p class="headerStyle">
        {{ t('solicitud_de_inscripcion.title') }}
      </p>
    </div>
    <div class="col-6 justify-content-end d-flex">
      <gva-button
        [btnLabel]="'buttons.back'"
        [iconPosition]="'left'"
        [btnClass]="'actionStyle mr-2'"
      >
        <span class="material-icons iconStyle"> arrow_back </span>
      </gva-button>

      <gva-button
        [btnLabel]="'buttons.save'"
        [iconPosition]="'left'"
        [btnClass]="'actionStyle mr-2'"
        [btnDisabled]="!isValidForm"
        (btnClick)="onSubmit()"
      >
        <span class="material-icons iconStyle"> save </span>
      </gva-button>

      <gva-button
        [btnLabel]="isFechaBajaNull ? 'buttons.archivar' : 'buttons.restaurar'"
        [iconPosition]="'left'"
        [btnClass]="'actionStyle mr-2'"
        (btnClick)="updateFechaBaja()"
      >
        <span class="material-icons iconStyle"> save </span>
      </gva-button>
    </div>
  </div>
  <hr />
  <p-accordion
    class="accordion"
    [activeIndex]="0"
    ><form [formGroup]="datosPrincipalesForm">
      <p-accordionTab formGroupName="entidad">
        <ng-template pTemplate="header">
          <div class="flex align-items-center">
            <p>{{ t('solicitud_de_inscripcion.title_tab_1') }}</p>
          </div>
        </ng-template>
        <ng-template
          pTemplate="content"
          contentStyle="accordion-content"
        >
          <div class="grid">
            <div class="col-2">
              <label
                class="labelStyle"
                for="cif"
                >{{ t('solicitud_de_inscripcion.cif') }}*</label
              >
              <div class="w-full">
                <input
                  id="cif"
                  type="text"
                  [maxLength]="9"
                  class="p-inputtext"
                  formControlName="cif"
                />
              </div>
            </div>
            <div class="col-4">
              <label
                class="labelStyle"
                for="razonSocial"
                >{{ t('solicitud_de_inscripcion.razon_social') }}*</label
              >
              <div class="w-full">
                <input
                  id="razonSocial"
                  type="text"
                  [maxLength]="250"
                  class="p-inputtext"
                  formControlName="razonSocial"
                />
              </div>
            </div>
            <div class="col-6">
              <label
                class="labelStyle"
                for="lastname2"
                >{{ t('solicitud_de_inscripcion.domicilio_social') }}*</label
              >
              <div class="w-full">
                <input
                  id="domicilioSocia"
                  type="text"
                  [maxLength]="250"
                  class="p-inputtext"
                  formControlName="domicilioSocia"
                />
              </div>
            </div>
          </div>

          <div class="grid">
            <div class="col col-6">
              <div class="grid">
                <div class="col-4">
                  <label
                    class="labelStyle"
                    for="provincia"
                  >
                    {{ t('solicitud_de_inscripcion.provincia') }}</label
                  >
                  <div class="w-full">
                    <p-autoComplete
                      id="provincia"
                      formControlName="provincia"
                      styleClass="dropdown"
                      [(ngModel)]="selectedProvincia"
                      [dropdown]="true"
                      [suggestions]="filteredProvincia"
                      (completeMethod)="filterProvincia($event)"
                      field="provDenominacion"
                      (onSelect)="provinciaSelected()"
                    >
                    </p-autoComplete>
                  </div>
                </div>
                <div class="col-4">
                  <label
                    class="labelStyle"
                    for="municipio"
                  >
                    {{ t('solicitud_de_inscripcion.municipio') }}
                  </label>
                  <div class="w-full">
                    <p-autoComplete
                      id="municipio"
                      formControlName="municipio"
                      styleClass="dropdown"
                      [(ngModel)]="selectedMunicipio"
                      [dropdown]="true"
                      [suggestions]="filteredMunicipio"
                      (completeMethod)="filterMunicipio($event)"
                      (onSelect)="municipioSelected()"
                      field="muniDenominacion"
                    >
                    </p-autoComplete>
                  </div>
                </div>
                <div class="col-4">
                  <label
                    class="labelStyle"
                    for="cPostal"
                  >
                    {{ t('solicitud_de_inscripcion.c_postal') }}</label
                  >
                  <div class="w-full">
                    <p-autoComplete
                      id="cPostal"
                      formControlName="cPostal"
                      styleClass="dropdown"
                      [(ngModel)]="selectedPostal"
                      [dropdown]="true"
                      [suggestions]="filteredPostal"
                      (completeMethod)="filterPostal($event)"
                      field="cpostMunicipio"
                      (onSelect)="provinciaSelected()"
                    >
                    </p-autoComplete>
                  </div>
                </div>
              </div>
            </div>

            <div class="col col-6">
              <div class="grid">
                <div class="col-3">
                  <label
                    class="labelStyle"
                    for="nRegistro"
                  >
                    {{ t('solicitud_de_inscripcion.n_registro') }}</label
                  >
                  <div class="w-full">
                    <input
                      id="nRegistro"
                      type="text"
                      placeholder="/ECMCA"
                      [maxLength]="9"
                      class="p-inputtext"
                      formControlName="nRegistro"
                    />
                  </div>
                </div>
                <div class="col-5">
                  <label
                    class="labelStyle"
                    for="feentrada"
                  >
                    {{ t('solicitud_de_inscripcion.feentrada') }}
                  </label>
                  <div class="w-full">
                    <p-calendar
                      id="feentrada"
                      styleClass="calender"
                      dateFormat="dd/mm/yy"
                      [showIcon]="true"
                      placeholder="dd/mm/yyyy"
                      formControlName="feentrada"
                    ></p-calendar>
                  </div>
                </div>
                <div class="col-4">
                  <label
                    class="labelStyle"
                    for="fechaBaja"
                  >
                    {{ t('solicitud_de_inscripcion.fecha_baja') }}
                  </label>
                  <div class="w-full calender-container">
                    <p-calendar
                      id="fechaBaja"
                      formControlName="fechaBaja"
                      styleClass="calender"
                      placeholder="dd/mm/yyyy"
                      [showIcon]="true"
                      [showOnFocus]="false"
                      readonly
                    >
                    </p-calendar>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="grid">
            <div class="col-3">
              <label
                class="labelStyle"
                for="email"
              >
                {{ t('solicitud_de_inscripcion.e-mail') }}</label
              >
              <div class="w-100">
                <input
                  id="email"
                  type="text"
                  [maxLength]="50"
                  class="p-inputtext"
                  formControlName="email"
                />
              </div>
            </div>
            <div class="col-2">
              <label
                class="labelStyle"
                for="telefono"
              >
                {{ t('solicitud_de_inscripcion.telefono') }}</label
              >
              <div class="w-full">
                <input
                  id="telefono"
                  type="text"
                  [maxLength]="9"
                  class="p-inputtext"
                  formControlName="telefono"
                />
              </div>
            </div>
            <div class="col-3">
              <label
                class="labelStyle"
                for="fax"
              >
                {{ t('solicitud_de_inscripcion.fax') }}</label
              >
              <div class="w-100">
                <input
                  id="fax"
                  type="text"
                  [maxLength]="9"
                  class="p-inputtext"
                  formControlName="fax"
                />
              </div>
            </div>
            <div class="col-2">
              <label
                class="labelStyle"
                for="publicarEnWeb"
              >
                {{ t('solicitud_de_inscripcion.publicar_en_web') }}</label
              >
              <div class="w-full">
                <p-checkbox
                  [binary]="true"
                  id="publicEnWeb"
                  formControlName="publicarEnWeb"
                ></p-checkbox>
              </div>
            </div>
          </div>

          <div class="grid">
            <div class="col-12">
              <label
                class="labelStyle"
                for="observaciones"
              >
                {{ t('solicitud_de_inscripcion.observaciones') }}</label
              >
              <div class="w-100">
                <input
                  id="observaciones"
                  type="text"
                  [maxLength]="80"
                  class="p-inputtext"
                  formControlName="observaciones"
                />
              </div>
            </div>
          </div>
        </ng-template>
      </p-accordionTab>

      <p-accordionTab formGroupName="notificaciones">
        <ng-template pTemplate="header">
          <div class="flex align-items-center">
            <p>{{ t('solicitud_de_inscripcion.title_tab_2') }}</p>
          </div>
        </ng-template>
        <ng-template
          pTemplate="content"
          contentStyle="accordion-content"
        >
          <div class="grid">
            <div class="col">
              <div class="w-full">
                <p-checkbox
                  [binary]="true"
                  id="addressCopy"
                  formControlName="addressCopy"
                ></p-checkbox>
                <label
                  class="labelStyle"
                  for="addressCopy"
                >
                  {{
                    t(
                      'solicitud_de_inscripcion.copiar_la_direccion_principal_para_notificaciones'
                    )
                  }}</label
                >
              </div>
            </div>
          </div>
          <div class="grid">
            <div class="col-4">
              <label
                class="labelStyle"
                for="dirDomicilio"
              >
                {{ t('solicitud_de_inscripcion.domicilio') }}</label
              >
              <div class="w-full">
                <input
                  id="dirDomicilio"
                  formControlName="dirDomicilio"
                  type="text"
                  [maxLength]="250"
                  class="p-inputtext"
                  [ngClass]="{ 'disabled-inputs': copyAdress }"
                  [readonly]="copyAdress ? 'readonly' : ''"
                />
              </div>
            </div>

            <div class="col-3">
              <label
                class="labelStyle"
                for="dirProvincia"
              >
                {{ t('solicitud_de_inscripcion.provincia') }}</label
              >
              <div class="w-full">
                <p-autoComplete
                  id="dirProvincia"
                  formControlName="dirProvincia"
                  styleClass="dropdown"
                  [(ngModel)]="selecteddDirProvincia"
                  [dropdown]="true"
                  [suggestions]="filteredProvincia"
                  (completeMethod)="!copyAdress && filterProvincia($event)"
                  field="provDenominacion"
                  [ngClass]="{ 'disabled-inputs': copyAdress }"
                  [readonly]="copyAdress"
                  [disabled]="copyAdress"
                  (onSelect)="provinciaSelected()"
                >
                </p-autoComplete>
              </div>
            </div>
            <div class="col-3">
              <label
                class="labelStyle"
                for="dirMunicipio"
              >
                {{ t('solicitud_de_inscripcion.municipio') }}
              </label>
              <div class="w-full">
                <p-autoComplete
                  id="dirMunicipio"
                  formControlName="dirMunicipio"
                  styleClass="dropdown"
                  [(ngModel)]="selecteddDirMunicipio"
                  [dropdown]="true"
                  [suggestions]="filteredMunicipio"
                  (completeMethod)="!copyAdress && filterMunicipio($event)"
                  (onSelect)="municipioSelected()"
                  field="muniDenominacion"
                  [ngClass]="{ 'disabled-inputs': copyAdress }"
                  [readonly]="copyAdress"
                  [disabled]="copyAdress"
                >
                </p-autoComplete>
              </div>
            </div>
            <div class="col-2">
              <label
                class="labelStyle"
                for="dirCPostal"
              >
                {{ t('solicitud_de_inscripcion.c_postal') }}</label
              >
              <div class="w-full">
                <p-autoComplete
                  id="dirCPostal"
                  formControlName="dirCPostal"
                  styleClass="dropdown"
                  field="cpostMunicipio"
                  [(ngModel)]="selectdircp"
                  [dropdown]="true"
                  [suggestions]="filteredPostal"
                  (completeMethod)="!copyAdress && filterPostal($event)"
                  [ngClass]="{ 'disabled-inputs': copyAdress }"
                  [readonly]="copyAdress"
                  [disabled]="copyAdress"
                  (onSelect)="provinciaSelected()"
                >
                </p-autoComplete>
              </div>
            </div>
          </div>
          <div class="grid">
            <div class="col-3">
              <label
                class="labelStyle"
                for="dirEmail"
              >
                {{ t('solicitud_de_inscripcion.e-mail') }}</label
              >
              <div class="w-full">
                <input
                  id="dirEmail"
                  type="text"
                  [maxLength]="50"
                  class="p-inputtext"
                  formControlName="dirEmail"
                  [ngClass]="{ 'disabled-inputs': copyAdress }"
                  [readonly]="copyAdress ? 'readonly' : ''"
                />
              </div>
            </div>
            <div class="col-2">
              <label
                class="labelStyle"
                for="dirTelefono"
              >
                {{ t('solicitud_de_inscripcion.telefono') }}</label
              >
              <div class="w-full">
                <input
                  id="dirTelefono"
                  type="text"
                  [maxLength]="9"
                  class="p-inputtext"
                  formControlName="dirTelefono"
                  [ngClass]="{ 'disabled-inputs': copyAdress }"
                  [readonly]="copyAdress ? 'readonly' : ''"
                />
              </div>
            </div>
          </div>
        </ng-template>
      </p-accordionTab>

      <p-accordionTab formGroupName="representanteLegal">
        <ng-template pTemplate="header">
          <div class="flex align-items-center">
            <p>{{ t('solicitud_de_inscripcion.title_tab_3') }}</p>
          </div>
        </ng-template>
        <ng-template
          pTemplate="content"
          contentStyle="accordion-content"
        >
          <div class="grid">
            <div class="col-2">
              <label
                class="labelStyle"
                for="nifCif"
                >{{ t('solicitud_de_inscripcion.nif_cif') }}*</label
              >
              <div class="w-full">
                <input
                  id="nifCif"
                  type="text"
                  [maxLength]="9"
                  class="p-inputtext"
                  formControlName="nifCif"
                />
              </div>
            </div>
            <div class="col-4">
              <label
                class="labelStyle"
                for="nombre"
                >{{ t('solicitud_de_inscripcion.nombre') }}*</label
              >
              <div class="w-full">
                <input
                  id="nombre"
                  type="text"
                  [maxLength]="250"
                  class="p-inputtext"
                  formControlName="nombre"
                />
              </div>
            </div>
            <div class="col-6">
              <label
                class="labelStyle"
                for="apellidos"
                >{{ t('solicitud_de_inscripcion.apellidos') }}*</label
              >
              <div class="w-full">
                <input
                  id="domicilioSocia"
                  type="text"
                  [maxLength]="250"
                  class="p-inputtext"
                  formControlName="apellidos"
                />
              </div>
            </div>
          </div>
          <div class="grid">
            <div class="col-4">
              <label
                class="labelStyle"
                for="domicilio"
              >
                {{ t('solicitud_de_inscripcion.domicilio') }}</label
              >
              <div class="w-full">
                <input
                  id="domicilio"
                  type="text"
                  [maxLength]="9"
                  class="p-inputtext"
                  formControlName="domicilio"
                />
              </div>
            </div>

            <div class="col-3">
              <label
                class="labelStyle"
                for="provincia"
              >
                {{ t('solicitud_de_inscripcion.provincia') }}</label
              >
              <div class="w-full">
                <p-dropdown
                  id="provincia"
                  styleClass="dropdown"
                  [editable]="true"
                  optionLabel="name"
                  placeholder=" "
                  formControlName="provincia"
                ></p-dropdown>
              </div>
            </div>
            <div class="col-3">
              <label
                class="labelStyle"
                for="municipio"
              >
                {{ t('solicitud_de_inscripcion.municipio') }}
              </label>
              <div class="w-full">
                <p-dropdown
                  styleClass="dropdown"
                  [editable]="true"
                  optionLabel="name"
                  placeholder=" "
                  formControlName="municipio"
                ></p-dropdown>
              </div>
            </div>
            <div class="col-2">
              <label
                class="labelStyle"
                for="cPostal"
              >
                {{ t('solicitud_de_inscripcion.c_postal') }}</label
              >
              <div class="w-full">
                <p-dropdown
                  id="cPostal"
                  styleClass="dropdown"
                  [editable]="true"
                  optionLabel="name"
                  placeholder=" "
                  formControlName="cPostal"
                ></p-dropdown>
              </div>
            </div>
          </div>
          <div class="grid">
            <div class="col-3">
              <label
                class="labelStyle"
                for="email"
              >
                {{ t('solicitud_de_inscripcion.e-mail') }}</label
              >
              <div class="w-100">
                <input
                  id="email"
                  type="text"
                  [maxLength]="50"
                  class="p-inputtext"
                  formControlName="email"
                />
              </div>
            </div>
            <div class="col-2">
              <label
                class="labelStyle"
                for="telefono"
              >
                {{ t('solicitud_de_inscripcion.telefono') }}</label
              >
              <div class="w-full">
                <input
                  id="telefono"
                  type="text"
                  [maxLength]="9"
                  class="p-inputtext"
                  formControlName="telefono"
                />
              </div>
            </div>
          </div>
        </ng-template>
      </p-accordionTab>
    </form>
  </p-accordion>
</div>
