<div *transloco="let t">
  <p-table
    [value]="data"
    [paginator]="tableConfig.paginator"
    [rows]="tableConfig.rows"
    [scrollable]="true"
    [rowHover]="true"
    [tableStyle]="tableConfig.tableStyle"
    [showCurrentPageReport]="paginatorConfig.showCurrentPageReport"
    [rowsPerPageOptions]="paginatorConfig.rowsPerPageOptions"
    styleClass="{{ tableConfig.styleClass }}"
    class="column-gap"
    [currentPageReportTemplate]="
      t('pagination_text', {
        first: '{first}',
        last: '{last}',
        totalRecords: '{totalRecords}'
      })
    "
  >
    <ng-template pTemplate="header">
      <tr>
        <th
          *ngFor="let column of columns; let ind = index"
          pSortableColumn="{{ column.field }}"
          [pSortableColumnDisabled]="!column.sortable"
          class="{{ column.class }} columnStyle"
          id="{{ column.field }}"
        >
          {{ column.header | transloco }}
          <p-sortIcon
            *ngIf="column.sortable"
            field="{{ column.field }}"
          ></p-sortIcon>
        </th>
      </tr>
      <tr *ngIf="tableConfig.columnFilter">
        <th *ngFor="let column of columns; let ind = index">
          <div *ngIf="column.filter">
            <p-columnFilter
              type="text"
              field="{{ column.field }}"
            ></p-columnFilter>
          </div>
        </th>
      </tr>
    </ng-template>

    <ng-template
      pTemplate="body"
      let-item
    >
      <tr>
        <td *ngFor="let column of columns; let ind = index">
          <div
            *ngIf="column.field === 'action'"
            class="buttons-right"
          >
            <button
              *ngIf="tableConfig.showEdit"
              pButton
              pRipple
              type="button"
              (click)="onEdit(item)"
              [disabled]="tableConfig.disableEdit"
              class="p-button-rounded p-button-text p-0 mr-2"
            >
              <img
                src="assets/images/glyphicons-halflings-13-pencil@2x.png"
                alt="edit"
                height="20"
              />
            </button>
            <button
              *ngIf="tableConfig.showDelete"
              pButton
              pRipple
              type="button"
              class="p-button-rounded p-button-text p-0 ml-2"
              [disabled]="tableConfig.disableDelete"
              (click)="onDelete(item)"
            >
              <img
                src="assets/images/glyphicons-halflings-7-bin@2x.png"
                alt="delete"
                height="20"
              />
            </button>
          </div>
          <span *ngIf="column.field !== 'action'">{{
            item[column.field]
          }}</span>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage"
      ><div class="p-2">{{ t('empty_message') }}</div></ng-template
    >
  </p-table>
</div>
