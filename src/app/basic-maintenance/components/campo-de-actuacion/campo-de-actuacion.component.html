<div class="mainStyle" style="flex: 0 0 100%;">
    <span class="headerStyle">Campos de actuación</span>
    <div class="d-flex flex-row justify-content-between mt-2">
        <div class="d-flex flex-column gap-2 col-2">
            <label htmlFor="username">Código</label>
            <input pInputText id="username" aria-describedby="username-help" [(ngModel)]="id" />
            <!-- <small id="username-help">Enter your username to reset your password.</small> -->
        </div>
        <div class="d-flex flex-column gap-2 col-5">
            <label htmlFor="username">Descripción</label>
            <input pInputText id="username" aria-describedby="username-help" [(ngModel)]="description" />
            <!-- <small id="username-help">Enter your username to reset your password.</small> -->
        </div>
        <div class="d-flex flex-column gap-2 col-5">
            <label htmlFor="username">Descripció (Valencià)</label>
            <input pInputText id="username" aria-describedby="username-help" [(ngModel)]="descriptionVal" />
            <!-- <small id="username-help">Enter your username to reset your password.</small> -->
        </div>
    </div>
    <div class="d-flex justify-content-end my-4 mr-2">
        <button pButton label="Buscar" icon="pi pi-search" iconPos="right" class="actionStyle mr-2" (click)="filterHandler()"></button>
        <button pButton label="Limpiar" icon="pi pi-eraser" iconPos="right" class="actionStyle mr-2" (click)="clearAll()"></button>
        <button pButton label="Alta" icon="pi pi-plus" iconPos="right" class="actionStyle"></button>
    </div>
    <div class="card">
        <p-toast></p-toast>
        <p-table [value]="products" dataKey="id" editMode="row" [tableStyle]="{'min-width': '50rem'}" #dt
            [value]="products" [rows]="10" [paginator]="true"
            [globalFilterFields]="['id', 'description', 'descriptionVal']" [tableStyle]="{ 'min-width': '50rem' }"
            [rowHover]="true" dataKey="id"
            [showFirstLastIcon]="false"
            currentPageReportTemplate="Registros del {first} al {last} (Total {totalRecords})"
            [showCurrentPageReport]="true">
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="id" style="width:10%">Código <p-sortIcon field="id"> <img src="assets/images/sort_both.png"/></p-sortIcon></th>
                    <th style="width:40%">Descripción</th>
                    <th style="width:40%">Descripció (Valencià)</th>
                    <th style="width:10%"></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product let-editing="editing" let-ri="rowIndex">
                <tr [pEditableRow]="product">
                    <td>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText type="text" [(ngModel)]="product.id">
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{product.id}}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText type="text" [(ngModel)]="product.description" required>
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{product.description}}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText type="text" [(ngModel)]="product.descriptionVal" required>
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{product.descriptionVal}}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td>
                        <div class="d-flex align-items-center justify-content-center gap-2">
                            <button *ngIf="!editing" pButton pRipple type="button" pInitEditableRow
                                (click)="onRowEditInit(product)" class="p-button-rounded p-button-text">
                                <img src="assets/images/glyphicons-halflings-13-pencil@2x.png" height="20" />
                            </button>
                            <button *ngIf="!editing" pButton pRipple type="button" 
                                (click)="onDeleteHandler(product)" class="p-button-rounded p-button-text">
                                <img src="assets/images/glyphicons-halflings-7-bin@2x.png" height="20" />
                            </button>
                            <button *ngIf="editing" pButton pRipple type="button" pSaveEditableRow icon="pi pi-check"
                                (click)="onRowEditSave(product)"
                                class="p-button-rounded p-button-text p-button-success mr-2"></button>
                            <button *ngIf="editing" pButton pRipple type="button" pCancelEditableRow icon="pi pi-times"
                                (click)="onRowEditCancel(product, ri)"
                                class="p-button-rounded p-button-text p-button-danger"></button>
                        </div>
                    </td>
                </tr>
            </ng-template>
            <!-- <ng-template pTemplate="paginatorleft">
                <p-button type="button" label="Anterior" styleClass="p-button-text"></p-button>
            </ng-template>
            <ng-template pTemplate="paginatorright">
                <p-button type="button" icon="pi pi-cloud" styleClass="p-button-text"></p-button>
            </ng-template> -->
            <!-- <p-paginator [rows]="10" [totalRecords]="1000" [pageLinkSize]="5" [templateLeft]="leftSide" [templateRight]="rightSide" #pagin [styleClass]="(pagin.getPage() > 2 ? '' : 'firstPageActive') + (pagin.getPage() > pagin.getPageCount() - 4 ? 'lastPageActive' : '')"></p-paginator>

<ng-template #leftSide><a class="firstPage" *ngIf="true" (click)="pagin.changePage(0)">1 ...</a>
</ng-template>

<ng-template #rightSide><a class="lastPage" *ngIf="true" (click)="pagin.changePage(pagin.getPageCount()-1)">... {{pagin.getPageCount()}}</a>
</ng-template> -->
        </p-table>
    </div>
</div>