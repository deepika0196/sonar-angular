import { HttpContext } from '@angular/common/http';
import { Inject, Injectable } from '@angular/core';
import { enable, gvloginUrl, nombreApp } from '../interceptors/arq-gvlogin-interceptor.service';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common/http";
export class ArqHttpClient {
    constructor(_httpClient, _env) {
        this._httpClient = _httpClient;
        this._env = _env;
    }
    _addGvLoginContext(context) {
        if (!context) {
            context = new HttpContext();
        }
        context.set(nombreApp, this._env.gvlogin.aplicacion);
        context.set(gvloginUrl, this._env.gvlogin.url);
        context.set(enable, this._env.gvlogin.enable);
        return context;
    }
    request(method, url, options = {}) {
        // implementation
        options = {
            ...options,
            context: this._addGvLoginContext(options.context)
        };
        return this._httpClient.request(method, url, options);
    }
    delete(url, options = {}) {
        // implementation
        options = {
            ...options,
            context: this._addGvLoginContext(options.context)
        };
        return this._httpClient.delete(url, options);
    }
    get(url, options = {}) {
        // implementation
        options = {
            ...options,
            context: this._addGvLoginContext(options.context)
        };
        return this._httpClient.get(url, options);
    }
    head(url, options = {}) {
        // implementation
        options = {
            ...options,
            context: this._addGvLoginContext(options.context)
        };
        return this._httpClient.head(url, options);
    }
    jsonp(url, callbackParam) {
        // implementation
        return this._httpClient.jsonp(url, callbackParam);
    }
    options(url, options = {}) {
        // implementation
        options = {
            ...options,
            context: this._addGvLoginContext(options.context)
        };
        return this._httpClient.options(url, options);
    }
    patch(url, body, options = {}) {
        // implementation
        options = {
            ...options,
            context: this._addGvLoginContext(options.context)
        };
        return this._httpClient.patch(url, body, options);
    }
    post(url, body, options = {}) {
        // implementation
        options = {
            ...options,
            context: this._addGvLoginContext(options.context)
        };
        return this._httpClient.post(url, body, options);
    }
    put(url, body, options = {}) {
        // implementation
        options = {
            ...options,
            context: this._addGvLoginContext(options.context)
        };
        return this._httpClient.put(url, body, options);
    }
}
ArqHttpClient.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: ArqHttpClient, deps: [{ token: i1.HttpClient }, { token: 'env' }], target: i0.ɵɵFactoryTarget.Injectable });
ArqHttpClient.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: ArqHttpClient, providedIn: 'root' });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: ArqHttpClient, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root'
                }]
        }], ctorParameters: function () { return [{ type: i1.HttpClient }, { type: undefined, decorators: [{
                    type: Inject,
                    args: ['env']
                }] }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJxLWh0dHAtY2xpZW50LnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9hcnEtc2RrL3NyYy9saWIvc2VydmljZXMvYXJxLWh0dHAtY2xpZW50LnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFjLFdBQVcsRUFBaUUsTUFBTSxzQkFBc0IsQ0FBQztBQUM5SCxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVuRCxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsTUFBTSxpREFBaUQsQ0FBQzs7O0FBOENoRyxNQUFNLE9BQU8sYUFBYTtJQUV4QixZQUNZLFdBQXVCLEVBQ1YsSUFBaUI7UUFEOUIsZ0JBQVcsR0FBWCxXQUFXLENBQVk7UUFDVixTQUFJLEdBQUosSUFBSSxDQUFhO0lBQ3RDLENBQUM7SUFFRyxrQkFBa0IsQ0FBQyxPQUFnQztRQUN6RCxJQUFHLENBQUMsT0FBTyxFQUFFO1lBQ1gsT0FBTyxHQUFHLElBQUksV0FBVyxFQUFFLENBQUE7U0FDNUI7UUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQTtRQUNwRCxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUM5QyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTtRQUM3QyxPQUFPLE9BQU8sQ0FBQTtJQUNoQixDQUFDO0lBOE1NLE9BQU8sQ0FBSSxNQUFXLEVBQUUsR0FBUyxFQUFFLFVBQWUsRUFBRTtRQUN6RCxpQkFBaUI7UUFDakIsT0FBTyxHQUFHO1lBQ1IsR0FBRyxPQUFPO1lBQ1YsT0FBTyxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDO1NBQ2xELENBQUE7UUFDRCxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFJLE1BQU0sRUFBRSxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUE7SUFDMUQsQ0FBQztJQTZLTSxNQUFNLENBQUksR0FBUSxFQUFFLFVBQWUsRUFBRTtRQUMxQyxpQkFBaUI7UUFDakIsT0FBTyxHQUFHO1lBQ1IsR0FBRyxPQUFPO1lBQ1YsT0FBTyxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDO1NBQ2xELENBQUE7UUFDRCxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFJLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQTtJQUNqRCxDQUFDO0lBOEtNLEdBQUcsQ0FBSSxHQUFRLEVBQUUsVUFBZSxFQUFFO1FBQ3ZDLGlCQUFpQjtRQUNqQixPQUFPLEdBQUc7WUFDUixHQUFHLE9BQU87WUFDVixPQUFPLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUM7U0FDbEQsQ0FBQTtRQUNELE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUksR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFBO0lBQzlDLENBQUM7SUFrTE0sSUFBSSxDQUFJLEdBQVEsRUFBRSxVQUFlLEVBQUU7UUFDeEMsaUJBQWlCO1FBQ2pCLE9BQU8sR0FBRztZQUNSLEdBQUcsT0FBTztZQUNWLE9BQU8sRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQztTQUNsRCxDQUFBO1FBQ0QsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBSSxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUE7SUFDL0MsQ0FBQztJQTBCTSxLQUFLLENBQUksR0FBUSxFQUFFLGFBQWtCO1FBQzFDLGlCQUFpQjtRQUNqQixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFJLEdBQUcsRUFBRSxhQUFhLENBQUMsQ0FBQTtJQUN0RCxDQUFDO0lBaUxNLE9BQU8sQ0FBSSxHQUFRLEVBQUUsVUFBZSxFQUFFO1FBQzFDLGlCQUFpQjtRQUNqQixPQUFPLEdBQUc7WUFDVCxHQUFHLE9BQU87WUFDVixPQUFPLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUM7U0FDbEQsQ0FBQTtRQUNBLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUksR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFBO0lBQ25ELENBQUM7SUFpTU0sS0FBSyxDQUFJLEdBQVEsRUFBRSxJQUFTLEVBQUUsVUFBZSxFQUFFO1FBQ3BELGlCQUFpQjtRQUNqQixPQUFPLEdBQUc7WUFDUixHQUFHLE9BQU87WUFDVixPQUFPLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUM7U0FDbEQsQ0FBQTtRQUNELE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUksR0FBRyxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQTtJQUN0RCxDQUFDO0lBaU1NLElBQUksQ0FBSSxHQUFRLEVBQUUsSUFBUyxFQUFFLFVBQWUsRUFBRTtRQUNuRCxpQkFBaUI7UUFDakIsT0FBTyxHQUFHO1lBQ1IsR0FBRyxPQUFPO1lBQ1YsT0FBTyxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDO1NBQ2xELENBQUE7UUFDRCxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFJLEdBQUcsRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUE7SUFDckQsQ0FBQztJQWdNTSxHQUFHLENBQUksR0FBUSxFQUFFLElBQVMsRUFBRSxVQUFlLEVBQUU7UUFDbEQsaUJBQWlCO1FBQ2pCLE9BQU8sR0FBRztZQUNSLEdBQUcsT0FBTztZQUNWLE9BQU8sRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQztTQUNsRCxDQUFBO1FBQ0QsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBSSxHQUFHLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFBO0lBQ3BELENBQUM7OzBHQWxqRFUsYUFBYSw0Q0FJZCxLQUFLOzhHQUpKLGFBQWEsY0FGWixNQUFNOzJGQUVQLGFBQWE7a0JBSHpCLFVBQVU7bUJBQUM7b0JBQ1YsVUFBVSxFQUFFLE1BQU07aUJBQ25COzswQkFLSSxNQUFNOzJCQUFDLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwQ29udGV4dCwgSHR0cEV2ZW50LCBIdHRwSGVhZGVycywgSHR0cFBhcmFtcywgSHR0cFJlcXVlc3QsIEh0dHBSZXNwb25zZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcclxuaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgZW5hYmxlLCBndmxvZ2luVXJsLCBub21icmVBcHAgfSBmcm9tICcuLi9pbnRlcmNlcHRvcnMvYXJxLWd2bG9naW4taW50ZXJjZXB0b3Iuc2VydmljZSc7XHJcblxyXG5pbnRlcmZhY2UgRW52aXJvbm1lbnQge1xyXG4gIG5hbWU6IHN0cmluZ1xyXG4gIHByb2R1Y3Rpb246IGJvb2xlYW5cclxuICBpc0RlYnVnTW9kZTogYm9vbGVhblxyXG4gIHBhaTogUGFpXHJcbiAgZ3Zsb2dpbjogR3Zsb2dpblxyXG4gIHNldHRpbmdzOiBTZXR0aW5nc1xyXG4gIGxvY2FsZTogTG9jYWxlXHJcbn1cclxuXHJcbmludGVyZmFjZSBQYWkge1xyXG4gIGFwbGljYWNpb246IHN0cmluZ1xyXG4gIGFwaUtleTogc3RyaW5nXHJcbn1cclxuXHJcbmludGVyZmFjZSBHdmxvZ2luIHtcclxuICBlbmFibGU6IGJvb2xlYW5cclxuICBhcGxpY2FjaW9uOiBzdHJpbmdcclxuICB1cmw6IHN0cmluZ1xyXG4gIHRva2VuS2V5OiBzdHJpbmdcclxuICB0b2tlblBldGljaW9uTWFydGU6IHN0cmluZ1xyXG4gIHdoaXRlbGlzdGVkRG9tYWluczogc3RyaW5nW11cclxufVxyXG5cclxuaW50ZXJmYWNlIFNldHRpbmdzIHtcclxuICBhcGk6IEFwaVxyXG4gIG5hbWU6IHN0cmluZ1xyXG4gIGhvc3Q6IHN0cmluZ1xyXG4gIGhvc3REeW5hbWljOiBzdHJpbmdcclxufVxyXG5cclxuaW50ZXJmYWNlIEFwaSB7XHJcbiAgdmVyc2lvbjogc3RyaW5nXHJcbiAgdXJsOiBzdHJpbmdcclxufVxyXG5cclxuaW50ZXJmYWNlIExvY2FsZSB7XHJcbiAgZGVmYXVsdDogc3RyaW5nXHJcbiAgY3VsdHVyZXM6IHN0cmluZ1tdXHJcbn1cclxuXHJcbkBJbmplY3RhYmxlKHtcclxuICBwcm92aWRlZEluOiAncm9vdCdcclxufSlcclxuZXhwb3J0IGNsYXNzIEFycUh0dHBDbGllbnQge1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByb3RlY3RlZCBfaHR0cENsaWVudDogSHR0cENsaWVudCxcclxuICAgIEBJbmplY3QoJ2VudicpIHByaXZhdGUgX2VudjogRW52aXJvbm1lbnRcclxuICApIHsgfVxyXG5cclxuICBwcml2YXRlIF9hZGRHdkxvZ2luQ29udGV4dChjb250ZXh0OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZCk6IEh0dHBDb250ZXh0IHtcclxuICAgIGlmKCFjb250ZXh0KSB7XHJcbiAgICAgIGNvbnRleHQgPSBuZXcgSHR0cENvbnRleHQoKVxyXG4gICAgfVxyXG4gICAgY29udGV4dC5zZXQobm9tYnJlQXBwLCB0aGlzLl9lbnYuZ3Zsb2dpbi5hcGxpY2FjaW9uKVxyXG4gICAgY29udGV4dC5zZXQoZ3Zsb2dpblVybCwgdGhpcy5fZW52Lmd2bG9naW4udXJsKVxyXG4gICAgY29udGV4dC5zZXQoZW5hYmxlLCB0aGlzLl9lbnYuZ3Zsb2dpbi5lbmFibGUpXHJcbiAgICByZXR1cm4gY29udGV4dFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2VuZHMgYW4gYEh0dHBSZXF1ZXN0YCBhbmQgcmV0dXJucyBhIHN0cmVhbSBvZiBgSHR0cEV2ZW50YHMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgcmVzcG9uc2UsIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgYXMgYSBzdHJlYW0gb2YgYEh0dHBFdmVudGBzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXF1ZXN0PFI+KHJlcTogSHR0cFJlcXVlc3Q8YW55Pik6IE9ic2VydmFibGU8SHR0cEV2ZW50PFI+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGFuIGBBcnJheUJ1ZmZlcmAgYW5kIHJldHVybnMgdGhlIHJlc3BvbnNlIGluXHJcbiAgICogYW4gYEFycmF5QnVmZmVyYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBtZXRob2QgIFRoZSBIVFRQIG1ldGhvZC5cclxuICAgKiBAcGFyYW0gdXJsICAgICBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIFRoZSBIVFRQIG9wdGlvbnMgdG8gc2VuZCB3aXRoIHRoZSByZXF1ZXN0LlxyXG4gICAqXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgcmVzcG9uc2UsIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgYXMgYW4gYEFycmF5QnVmZmVyYC5cclxuICAgKi9cclxuICBwdWJsaWMgcmVxdWVzdChtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgYm9keT86IGFueTsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBvYnNlcnZlPzogJ2JvZHknIHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcic7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEFycmF5QnVmZmVyPjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgYmxvYiBhbmQgcmV0dXJuc1xyXG4gICAqIHRoZSByZXNwb25zZSBhcyBhIGJsb2IuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbWV0aG9kICBUaGUgSFRUUCBtZXRob2QuXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSByZXNwb25zZSwgd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBvZiB0eXBlIGBCbG9iYC5cclxuICAgKi9cclxuICBwdWJsaWMgcmVxdWVzdChtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgYm9keT86IGFueTsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBvYnNlcnZlPzogJ2JvZHknIHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdibG9iJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8QmxvYj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBhIHRleHQgc3RyaW5nIGFuZFxyXG4gICAqIHJldHVybnMgYSBzdHJpbmcgdmFsdWUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbWV0aG9kICBUaGUgSFRUUCBtZXRob2QuXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSByZXNwb25zZSwgd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBvZiB0eXBlIHN0cmluZy5cclxuICAgKi9cclxuICBwdWJsaWMgcmVxdWVzdChtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgYm9keT86IGFueTsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBvYnNlcnZlPzogJ2JvZHknIHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICd0ZXh0Jzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8c3RyaW5nPjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGFuIGBBcnJheUJ1ZmZlcmAgYW5kIHJldHVybnMgdGhlXHJcbiAgICogdGhlIGZ1bGwgZXZlbnQgc3RyZWFtLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIG1ldGhvZCAgVGhlIEhUVFAgbWV0aG9kLlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgcmVzcG9uc2UsIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgYXMgYW4gYXJyYXkgb2YgYEh0dHBFdmVudGBzIGZvclxyXG4gICAqIHRoZSByZXF1ZXN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXF1ZXN0KG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgb3B0aW9uczogeyBib2R5PzogYW55OyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAnZXZlbnRzJzsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcic7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxBcnJheUJ1ZmZlcj4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYSBgQmxvYmAgYW5kIHJldHVybnNcclxuICAgKiB0aGUgZnVsbCBldmVudCBzdHJlYW0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbWV0aG9kICBUaGUgSFRUUCBtZXRob2QuXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIGFsbCBgSHR0cEV2ZW50YHMgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgb2YgdHlwZSBgQmxvYmAuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVlc3QobWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGJvZHk/OiBhbnk7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdldmVudHMnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ2Jsb2InOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8QmxvYj4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgcmVxdWVzdCB3aGljaCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgdGV4dCBzdHJpbmcgYW5kIHJldHVybnMgdGhlIGZ1bGwgZXZlbnRcclxuICAgKiBzdHJlYW0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbWV0aG9kICBUaGUgSFRUUCBtZXRob2QuXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIGFsbCBgSHR0cEV2ZW50YHMgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgb2YgdHlwZSBzdHJpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVlc3QobWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGJvZHk/OiBhbnk7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdldmVudHMnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ3RleHQnOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8c3RyaW5nPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSByZXF1ZXN0IHdoaWNoIGludGVycHJldHMgdGhlIGJvZHkgYXMgYSBKYXZhU2NyaXB0IG9iamVjdCBhbmQgcmV0dXJucyB0aGUgZnVsbFxyXG4gICAqIGV2ZW50IHN0cmVhbS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBtZXRob2QgIFRoZSBIVFRQIG1ldGhvZC5cclxuICAgKiBAcGFyYW0gdXJsICAgICBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIFRoZSBIVFRQIG9wdGlvbnMgdG8gc2VuZCB3aXRoIHRoZSAgcHVibGljIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiBhbGwgYEh0dHBFdmVudGBzIGZvciB0aGUgcmVxdWVzdCxcclxuICAgKiB3aXRoIHRoZSByZXNwb25zZSBib2R5IG9mIHR5cGUgYE9iamVjdGAuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVlc3QobWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGJvZHk/OiBhbnk7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAnZXZlbnRzJzsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZT86ICdqc29uJyB8IHVuZGVmaW5lZDsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PGFueT4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgcmVxdWVzdCB3aGljaCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgSmF2YVNjcmlwdCBvYmplY3QgYW5kIHJldHVybnMgdGhlIGZ1bGxcclxuICAgKiBldmVudCBzdHJlYW0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbWV0aG9kICBUaGUgSFRUUCBtZXRob2QuXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIGFsbCBgSHR0cEV2ZW50YHMgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgb2YgdHlwZSBgUmAuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVlc3Q8Uj4obWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGJvZHk/OiBhbnk7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAnZXZlbnRzJzsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZT86ICdqc29uJyB8IHVuZGVmaW5lZDsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PFI+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIHJlcXVlc3Qgd2hpY2ggaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBhbiBgQXJyYXlCdWZmZXJgXHJcbiAgICogYW5kIHJldHVybnMgdGhlIGZ1bGwgYEh0dHBSZXNwb25zZWAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbWV0aG9kICBUaGUgSFRUUCBtZXRob2QuXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSBgSHR0cFJlc3BvbnNlYCwgd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBhcyBhbiBgQXJyYXlCdWZmZXJgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXF1ZXN0KG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgb3B0aW9uczogeyBib2R5PzogYW55OyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAncmVzcG9uc2UnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEFycmF5QnVmZmVyPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSByZXF1ZXN0IHdoaWNoIGludGVycHJldHMgdGhlIGJvZHkgYXMgYSBgQmxvYmAgYW5kIHJldHVybnMgdGhlIGZ1bGwgYEh0dHBSZXNwb25zZWAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbWV0aG9kICBUaGUgSFRUUCBtZXRob2QuXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSBgSHR0cFJlc3BvbnNlYCwgd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBvZiB0eXBlIGBCbG9iYC5cclxuICAgKi9cclxuICBwdWJsaWMgcmVxdWVzdChtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgYm9keT86IGFueTsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ3Jlc3BvbnNlJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdibG9iJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEJsb2I+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIHJlcXVlc3Qgd2hpY2ggaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBhIHRleHQgc3RyZWFtIGFuZCByZXR1cm5zIHRoZSBmdWxsXHJcbiAgICogYEh0dHBSZXNwb25zZWAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbWV0aG9kICBUaGUgSFRUUCBtZXRob2QuXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSBIVFRQIHJlc3BvbnNlLCB3aXRoIHRoZSByZXNwb25zZSBib2R5IG9mIHR5cGUgc3RyaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXF1ZXN0KG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgb3B0aW9uczogeyBib2R5PzogYW55OyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAncmVzcG9uc2UnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ3RleHQnOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8c3RyaW5nPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSByZXF1ZXN0IHdoaWNoIGludGVycHJldHMgdGhlIGJvZHkgYXMgYSBKYXZhU2NyaXB0IG9iamVjdCBhbmQgcmV0dXJucyB0aGUgZnVsbFxyXG4gICAqIGBIdHRwUmVzcG9uc2VgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIG1ldGhvZCAgVGhlIEhUVFAgbWV0aG9kLlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgZnVsbCBgSHR0cFJlc3BvbnNlYCxcclxuICAgKiB3aXRoIHRoZSByZXNwb25zZSBib2R5IG9mIHR5cGUgYE9iamVjdGAuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVlc3QobWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGJvZHk/OiBhbnk7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAncmVzcG9uc2UnOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlPzogJ2pzb24nIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8T2JqZWN0Pj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSByZXF1ZXN0IHdoaWNoIGludGVycHJldHMgdGhlIGJvZHkgYXMgYSBKYXZhU2NyaXB0IG9iamVjdCBhbmQgcmV0dXJuc1xyXG4gICAqIHRoZSBmdWxsIGBIdHRwUmVzcG9uc2VgIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgaW4gdGhlIHJlcXVlc3RlZCB0eXBlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIG1ldGhvZCAgVGhlIEhUVFAgbWV0aG9kLlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuICBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIGZ1bGwgYEh0dHBSZXNwb25zZWAsIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgb2YgdHlwZSBgUmAuXHJcbiAgICovXHJcbiAgcHVibGljIHJlcXVlc3Q8Uj4obWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGJvZHk/OiBhbnk7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAncmVzcG9uc2UnOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlPzogJ2pzb24nIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8Uj4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgcmVxdWVzdCB3aGljaCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgSmF2YVNjcmlwdCBvYmplY3QgYW5kIHJldHVybnMgdGhlIGZ1bGxcclxuICAgKiBgSHR0cFJlc3BvbnNlYCBhcyBhIEphdmFTY3JpcHQgb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIG1ldGhvZCAgVGhlIEhUVFAgbWV0aG9kLlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgYEh0dHBSZXNwb25zZWAsIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgb2YgdHlwZSBgT2JqZWN0YC5cclxuICAgKi9cclxuICBwdWJsaWMgcmVxdWVzdChtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcsIG9wdGlvbnM/OiB7IGJvZHk/OiBhbnk7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgb2JzZXJ2ZT86ICdib2R5JyB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZT86ICdqc29uJyB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9IHwgdW5kZWZpbmVkKTogT2JzZXJ2YWJsZTxPYmplY3Q+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgcmVxdWVzdCB3aGljaCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgSmF2YVNjcmlwdCBvYmplY3RcclxuICAgKiB3aXRoIHRoZSByZXNwb25zZSBib2R5IG9mIHRoZSByZXF1ZXN0ZWQgdHlwZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBtZXRob2QgIFRoZSBIVFRQIG1ldGhvZC5cclxuICAgKiBAcGFyYW0gdXJsICAgICBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIFRoZSBIVFRQIG9wdGlvbnMgdG8gc2VuZCB3aXRoIHRoZSByZXF1ZXN0LlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIGBIdHRwUmVzcG9uc2VgLCB3aXRoIHRoZSByZXNwb25zZSBib2R5IG9mIHR5cGUgYFJgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXF1ZXN0PFI+KG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgb3B0aW9ucz86IHsgYm9keT86IGFueTsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBvYnNlcnZlPzogJ2JvZHknIHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlPzogJ2pzb24nIHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0gfCB1bmRlZmluZWQpOiBPYnNlcnZhYmxlPFI+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgcmVxdWVzdCB3aGVyZSByZXNwb25zZSB0eXBlIGFuZCByZXF1ZXN0ZWQgb2JzZXJ2YWJsZSBhcmUgbm90IGtub3duIHN0YXRpY2FsbHkuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gbWV0aG9kICBUaGUgSFRUUCBtZXRob2QuXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSByZXF1ZXN0ZWQgcmVzcG9uc2UsIHdpdGggYm9keSBvZiB0eXBlIGBhbnlgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyByZXF1ZXN0KG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgb3B0aW9ucz86IHsgYm9keT86IGFueTsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZT86ICdib2R5JyB8ICdldmVudHMnIHwgJ3Jlc3BvbnNlJyB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU/OiAnYXJyYXlidWZmZXInIHwgJ2Jsb2InIHwgJ3RleHQnIHwgJ2pzb24nIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9IHwgdW5kZWZpbmVkKTogT2JzZXJ2YWJsZTxhbnk+O1xyXG5cclxuICBwdWJsaWMgcmVxdWVzdDxSPihtZXRob2Q6IGFueSwgdXJsPzogYW55LCBvcHRpb25zOiBhbnkgPSB7fSk6IE9ic2VydmFibGU8YW55PiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PFI+PiB8IE9ic2VydmFibGU8QXJyYXlCdWZmZXI+IHwgT2JzZXJ2YWJsZTxCbG9iPiB8IE9ic2VydmFibGU8c3RyaW5nPiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PEFycmF5QnVmZmVyPj4gfCBPYnNlcnZhYmxlPEh0dHBFdmVudDxCbG9iPj4gfCBPYnNlcnZhYmxlPEh0dHBFdmVudDxzdHJpbmc+PiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PGFueT4+IHwgT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8Uj4+IHwgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8QXJyYXlCdWZmZXI+PiB8IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEJsb2I+PiB8IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPHN0cmluZz4+IHwgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8T2JqZWN0Pj4gfCBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxSPj4gfCBPYnNlcnZhYmxlPE9iamVjdD4gfCBPYnNlcnZhYmxlPFI+IHtcclxuICAgIC8vIGltcGxlbWVudGF0aW9uXHJcbiAgICBvcHRpb25zID0ge1xyXG4gICAgICAuLi5vcHRpb25zLFxyXG4gICAgICBjb250ZXh0OiB0aGlzLl9hZGRHdkxvZ2luQ29udGV4dChvcHRpb25zLmNvbnRleHQpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5faHR0cENsaWVudC5yZXF1ZXN0PFI+KG1ldGhvZCwgdXJsLCBvcHRpb25zKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBERUxFVEVgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGFuIGBBcnJheUJ1ZmZlcmBcclxuICAgKiAgYW5kIHJldHVybnMgdGhlIHJlc3BvbnNlIGFzIGFuIGBBcnJheUJ1ZmZlcmAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsICAgICBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIFRoZSBIVFRQIG9wdGlvbnMgdG8gc2VuZCB3aXRoIHRoZSByZXF1ZXN0LlxyXG4gICAqXHJcbiAgICogQHJldHVybiAgQW4gYE9ic2VydmFibGVgIG9mIHRoZSByZXNwb25zZSBib2R5IGFzIGFuIGBBcnJheUJ1ZmZlcmAuXHJcbiAgICovXHJcbiAgcHVibGljIGRlbGV0ZSh1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IG9ic2VydmU/OiAnYm9keScgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgYm9keT86IGFueTsgfSk6IE9ic2VydmFibGU8QXJyYXlCdWZmZXI+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYERFTEVURWAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYSBgQmxvYmAgYW5kIHJldHVybnNcclxuICAgKiB0aGUgcmVzcG9uc2UgYXMgYSBgQmxvYmAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsICAgICBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIFRoZSBIVFRQIG9wdGlvbnMgdG8gc2VuZCB3aXRoIHRoZSByZXF1ZXN0LlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIHJlc3BvbnNlIGJvZHkgYXMgYSBgQmxvYmAuXHJcbiAgICovXHJcbiAgcHVibGljIGRlbGV0ZSh1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IG9ic2VydmU/OiAnYm9keScgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ2Jsb2InOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyBib2R5PzogYW55OyB9KTogT2JzZXJ2YWJsZTxCbG9iPjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBERUxFVEVgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgdGV4dCBzdHJpbmcgYW5kIHJldHVybnNcclxuICAgKiBhIHN0cmluZy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgcmVzcG9uc2UsIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgb2YgdHlwZSBzdHJpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIGRlbGV0ZSh1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IG9ic2VydmU/OiAnYm9keScgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ3RleHQnOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyBib2R5PzogYW55OyB9KTogT2JzZXJ2YWJsZTxzdHJpbmc+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYERFTEVURWAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYW4gYEFycmF5QnVmZmVyYFxyXG4gICAqICBhbmQgcmV0dXJucyB0aGUgZnVsbCBldmVudCBzdHJlYW0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsICAgICBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIFRoZSBIVFRQIG9wdGlvbnMgdG8gc2VuZCB3aXRoIHRoZSByZXF1ZXN0LlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgYWxsIGBIdHRwRXZlbnRgcyBmb3IgdGhlIHJlcXVlc3QsXHJcbiAgICogd2l0aCByZXNwb25zZSBib2R5IGFzIGFuIGBBcnJheUJ1ZmZlcmAuXHJcbiAgICovXHJcbiAgcHVibGljIGRlbGV0ZSh1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAnZXZlbnRzJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcic7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IGJvZHk/OiBhbnk7IH0pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxBcnJheUJ1ZmZlcj4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYERFTEVURWAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYSBgQmxvYmBcclxuICAgKiAgYW5kIHJldHVybnMgdGhlIGZ1bGwgZXZlbnQgc3RyZWFtLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIGFsbCB0aGUgYEh0dHBFdmVudGBzIGZvciB0aGUgcmVxdWVzdCwgd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBhcyBhXHJcbiAgICogYEJsb2JgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZWxldGUodXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ2V2ZW50cyc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAnYmxvYic7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IGJvZHk/OiBhbnk7IH0pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxCbG9iPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgREVMRVRFYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBhIHRleHQgc3RyaW5nXHJcbiAgICogYW5kIHJldHVybnMgdGhlIGZ1bGwgZXZlbnQgc3RyZWFtLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIGFsbCBgSHR0cEV2ZW50YHMgZm9yIHRoZSByZXF1ZXN0LCB3aXRoIHRoZSByZXNwb25zZVxyXG4gICAqIGJvZHkgb2YgdHlwZSBzdHJpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIGRlbGV0ZSh1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAnZXZlbnRzJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICd0ZXh0Jzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgYm9keT86IGFueTsgfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PHN0cmluZz4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYERFTEVURWAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgSlNPTlxyXG4gICAqIGFuZCByZXR1cm5zIHRoZSBmdWxsIGV2ZW50IHN0cmVhbS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiBhbGwgYEh0dHBFdmVudGBzIGZvciB0aGUgcmVxdWVzdCwgd2l0aCByZXNwb25zZSBib2R5IG9mXHJcbiAgICogdHlwZSBgT2JqZWN0YC5cclxuICAgKi9cclxuICBwdWJsaWMgZGVsZXRlKHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdldmVudHMnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZT86ICdqc29uJyB8IHVuZGVmaW5lZDsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgYm9keT86IGFueTsgfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PE9iamVjdD4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYERFTEVURWByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBKU09OXHJcbiAgICogYW5kIHJldHVybnMgdGhlIGZ1bGwgZXZlbnQgc3RyZWFtLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIGFsbCB0aGUgYEh0dHBFdmVudGBzIGZvciB0aGUgcmVxdWVzdCwgd2l0aCBhIHJlc3BvbnNlXHJcbiAgICogYm9keSBpbiB0aGUgcmVxdWVzdGVkIHR5cGUuXHJcbiAgICovXHJcbiAgcHVibGljIGRlbGV0ZTxUPih1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAnZXZlbnRzJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU/OiAnanNvbicgfCB1bmRlZmluZWQ7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IGJvZHk/OiBhbnk7IH0pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxUPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgREVMRVRFYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBhbiBgQXJyYXlCdWZmZXJgIGFuZCByZXR1cm5zXHJcbiAgICogIHRoZSBmdWxsIGBIdHRwUmVzcG9uc2VgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSBmdWxsIGBIdHRwUmVzcG9uc2VgLCB3aXRoIHRoZSByZXNwb25zZSBib2R5IGFzIGFuIGBBcnJheUJ1ZmZlcmAuXHJcbiAgICovXHJcbiAgcHVibGljIGRlbGV0ZSh1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAncmVzcG9uc2UnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgYm9keT86IGFueTsgfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEFycmF5QnVmZmVyPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgREVMRVRFYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBhIGBCbG9iYCBhbmQgcmV0dXJucyB0aGUgZnVsbFxyXG4gICAqIGBIdHRwUmVzcG9uc2VgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSBgSHR0cFJlc3BvbnNlYCwgd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBvZiB0eXBlIGBCbG9iYC5cclxuICAgKi9cclxuICBwdWJsaWMgZGVsZXRlKHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdyZXNwb25zZSc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAnYmxvYic7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IGJvZHk/OiBhbnk7IH0pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxCbG9iPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgREVMRVRFYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBhIHRleHQgc3RyZWFtIGFuZFxyXG4gICAqICByZXR1cm5zIHRoZSBmdWxsIGBIdHRwUmVzcG9uc2VgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSBmdWxsIGBIdHRwUmVzcG9uc2VgLCB3aXRoIHRoZSByZXNwb25zZSBib2R5IG9mIHR5cGUgc3RyaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZWxldGUodXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ3Jlc3BvbnNlJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICd0ZXh0Jzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgYm9keT86IGFueTsgfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPHN0cmluZz4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYERFTEVURWAgcmVxdWVzdCB0aGUgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBhIEphdmFTY3JpcHQgb2JqZWN0IGFuZCByZXR1cm5zXHJcbiAgICogdGhlIGZ1bGwgYEh0dHBSZXNwb25zZWAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsICAgICBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIFRoZSBIVFRQIG9wdGlvbnMgdG8gc2VuZCB3aXRoIHRoZSByZXF1ZXN0LlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIGBIdHRwUmVzcG9uc2VgLCB3aXRoIHRoZSByZXNwb25zZSBib2R5IG9mIHR5cGUgYE9iamVjdGAuXHJcbiAgICpcclxuICAgKi9cclxuICBwdWJsaWMgZGVsZXRlKHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdyZXNwb25zZSc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlPzogJ2pzb24nIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyBib2R5PzogYW55OyB9KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8T2JqZWN0Pj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgREVMRVRFYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBKU09OXHJcbiAgICogYW5kIHJldHVybnMgdGhlIGZ1bGwgYEh0dHBSZXNwb25zZWAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsICAgICBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIFRoZSBIVFRQIG9wdGlvbnMgdG8gc2VuZCB3aXRoIHRoZSByZXF1ZXN0LlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIGBIdHRwUmVzcG9uc2VgLCB3aXRoIHRoZSByZXNwb25zZSBib2R5IG9mIHRoZSByZXF1ZXN0ZWQgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgZGVsZXRlPFQ+KHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdyZXNwb25zZSc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlPzogJ2pzb24nIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyBib2R5PzogYW55OyB9KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8VD4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYERFTEVURWAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgSlNPTiBhbmRcclxuICAgKiByZXR1cm5zIHRoZSByZXNwb25zZSBib2R5IGFzIGFuIG9iamVjdCBwYXJzZWQgZnJvbSBKU09OLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSByZXNwb25zZSwgd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBvZiB0eXBlIGBPYmplY3RgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZWxldGUodXJsOiBzdHJpbmcsIG9wdGlvbnM/OiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgb2JzZXJ2ZT86ICdib2R5JyB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlPzogJ2pzb24nIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyBib2R5PzogYW55OyB9IHwgdW5kZWZpbmVkKTogT2JzZXJ2YWJsZTxPYmplY3Q+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgREVMRVRFIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIEpTT04gYW5kIHJldHVybnNcclxuICAgKiB0aGUgcmVzcG9uc2UgaW4gYSBnaXZlbiB0eXBlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSBgSHR0cFJlc3BvbnNlYCwgd2l0aCByZXNwb25zZSBib2R5IGluIHRoZSByZXF1ZXN0ZWQgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgZGVsZXRlPFQ+KHVybDogc3RyaW5nLCBvcHRpb25zPzogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IG9ic2VydmU/OiAnYm9keScgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZT86ICdqc29uJyB8IHVuZGVmaW5lZDsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgYm9keT86IGFueTsgfSB8IHVuZGVmaW5lZCk6IE9ic2VydmFibGU8VD47XHJcblxyXG4gIHB1YmxpYyBkZWxldGU8VD4odXJsOiBhbnksIG9wdGlvbnM6IGFueSA9IHt9KTogT2JzZXJ2YWJsZTxBcnJheUJ1ZmZlcj4gfCBPYnNlcnZhYmxlPEJsb2I+IHwgT2JzZXJ2YWJsZTxzdHJpbmc+IHwgT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8QXJyYXlCdWZmZXI+PiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PEJsb2I+PiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PHN0cmluZz4+IHwgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8QXJyYXlCdWZmZXI+PiB8IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEJsb2I+PiB8IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPHN0cmluZz4+IHwgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8T2JqZWN0Pj4gfCBPYnNlcnZhYmxlPE9iamVjdD4gfCBPYnNlcnZhYmxlPEh0dHBFdmVudDxPYmplY3Q+PiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PFQ+PiB8IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPFQ+PiB8IE9ic2VydmFibGU8VD4ge1xyXG4gICAgLy8gaW1wbGVtZW50YXRpb25cclxuICAgIG9wdGlvbnMgPSB7XHJcbiAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICAgIGNvbnRleHQ6IHRoaXMuX2FkZEd2TG9naW5Db250ZXh0KG9wdGlvbnMuY29udGV4dClcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLl9odHRwQ2xpZW50LmRlbGV0ZTxUPih1cmwsIG9wdGlvbnMpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYEdFVGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYW4gYEFycmF5QnVmZmVyYCBhbmQgcmV0dXJucyB0aGVcclxuICAgKiByZXNwb25zZSBpbiBhbiBgQXJyYXlCdWZmZXJgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSByZXNwb25zZSwgd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBhcyBhbiBgQXJyYXlCdWZmZXJgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQodXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBvYnNlcnZlPzogJ2JvZHknIHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcic7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEFycmF5QnVmZmVyPjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBHRVRgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgYEJsb2JgXHJcbiAgICogYW5kIHJldHVybnMgdGhlIHJlc3BvbnNlIGFzIGEgYEJsb2JgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSByZXNwb25zZSwgd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBhcyBhIGBCbG9iYC5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0KHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgb2JzZXJ2ZT86ICdib2R5JyB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAnYmxvYic7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEJsb2I+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYEdFVGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYSB0ZXh0IHN0cmluZ1xyXG4gICAqIGFuZCByZXR1cm5zIHRoZSByZXNwb25zZSBhcyBhIHN0cmluZyB2YWx1ZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgcmVzcG9uc2UsIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgb2YgdHlwZSBzdHJpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIGdldCh1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IG9ic2VydmU/OiAnYm9keScgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ3RleHQnOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxzdHJpbmc+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYEdFVGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYW4gYEFycmF5QnVmZmVyYCBhbmQgcmV0dXJuc1xyXG4gICAqICB0aGUgZnVsbCBldmVudCBzdHJlYW0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsICAgICBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIFRoZSBIVFRQIG9wdGlvbnMgdG8gc2VuZCB3aXRoIHRoZSByZXF1ZXN0LlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgYWxsIGBIdHRwRXZlbnRgcyBmb3IgdGhlIHJlcXVlc3QsIHdpdGggdGhlIHJlc3BvbnNlXHJcbiAgICogYm9keSBhcyBhbiBgQXJyYXlCdWZmZXJgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQodXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ2V2ZW50cyc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8QXJyYXlCdWZmZXI+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBHRVRgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgYEJsb2JgIGFuZFxyXG4gICAqIHJldHVybnMgdGhlIGZ1bGwgZXZlbnQgc3RyZWFtLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSByZXNwb25zZSwgd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBhcyBhIGBCbG9iYC5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0KHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdldmVudHMnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ2Jsb2InOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8QmxvYj4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYEdFVGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYSB0ZXh0IHN0cmluZyBhbmQgcmV0dXJuc1xyXG4gICAqIHRoZSBmdWxsIGV2ZW50IHN0cmVhbS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgcmVzcG9uc2UsIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgb2YgdHlwZSBzdHJpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIGdldCh1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAnZXZlbnRzJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICd0ZXh0Jzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PHN0cmluZz4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYEdFVGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgSlNPTlxyXG4gICAqIGFuZCByZXR1cm5zIHRoZSBmdWxsIGV2ZW50IHN0cmVhbS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgcmVzcG9uc2UsIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgb2YgdHlwZSBgT2JqZWN0YC5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0KHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdldmVudHMnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZT86ICdqc29uJyB8IHVuZGVmaW5lZDsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PE9iamVjdD4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYEdFVGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgSlNPTiBhbmQgcmV0dXJucyB0aGUgZnVsbFxyXG4gICAqIGV2ZW50IHN0cmVhbS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgcmVzcG9uc2UsIHdpdGggYSByZXNwb25zZSBib2R5IGluIHRoZSByZXF1ZXN0ZWQgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0PFQ+KHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdldmVudHMnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZT86ICdqc29uJyB8IHVuZGVmaW5lZDsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PFQ+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBHRVRgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGFuIGBBcnJheUJ1ZmZlcmAgYW5kXHJcbiAgICogcmV0dXJucyB0aGUgZnVsbCBgSHR0cFJlc3BvbnNlYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgYEh0dHBSZXNwb25zZWAgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgYXMgYW4gYEFycmF5QnVmZmVyYC5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0KHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdyZXNwb25zZSc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8QXJyYXlCdWZmZXI+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBHRVRgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgYEJsb2JgIGFuZFxyXG4gICAqIHJldHVybnMgdGhlIGZ1bGwgYEh0dHBSZXNwb25zZWAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsICAgICBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIFRoZSBIVFRQIG9wdGlvbnMgdG8gc2VuZCB3aXRoIHRoZSByZXF1ZXN0LlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIGBIdHRwUmVzcG9uc2VgIGZvciB0aGUgcmVxdWVzdCxcclxuICAgKiB3aXRoIHRoZSByZXNwb25zZSBib2R5IGFzIGEgYEJsb2JgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQodXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ3Jlc3BvbnNlJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdibG9iJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEJsb2I+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBHRVRgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgdGV4dCBzdHJlYW0gYW5kXHJcbiAgICogcmV0dXJucyB0aGUgZnVsbCBgSHR0cFJlc3BvbnNlYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgYEh0dHBSZXNwb25zZWAgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgb2YgdHlwZSBzdHJpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIGdldCh1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAncmVzcG9uc2UnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ3RleHQnOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8c3RyaW5nPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgR0VUYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBKU09OIGFuZFxyXG4gICAqIHJldHVybnMgdGhlIGZ1bGwgYEh0dHBSZXNwb25zZWAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsICAgICBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIFRoZSBIVFRQIG9wdGlvbnMgdG8gc2VuZCB3aXRoIHRoZSByZXF1ZXN0LlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIGZ1bGwgYEh0dHBSZXNwb25zZWAsXHJcbiAgICogd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBvZiB0eXBlIGBPYmplY3RgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQodXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ3Jlc3BvbnNlJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU/OiAnanNvbicgfCB1bmRlZmluZWQ7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxPYmplY3Q+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBHRVRgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIEpTT04gYW5kXHJcbiAgICogcmV0dXJucyB0aGUgZnVsbCBgSHR0cFJlc3BvbnNlYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgZnVsbCBgSHR0cFJlc3BvbnNlYCBmb3IgdGhlIHJlcXVlc3QsXHJcbiAgICogd2l0aCBhIHJlc3BvbnNlIGJvZHkgaW4gdGhlIHJlcXVlc3RlZCB0eXBlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQ8VD4odXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ3Jlc3BvbnNlJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU/OiAnanNvbicgfCB1bmRlZmluZWQ7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxUPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgR0VUYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBKU09OIGFuZFxyXG4gICAqIHJldHVybnMgdGhlIHJlc3BvbnNlIGJvZHkgYXMgYW4gb2JqZWN0IHBhcnNlZCBmcm9tIEpTT04uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsICAgICBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIFRoZSBIVFRQIG9wdGlvbnMgdG8gc2VuZCB3aXRoIHRoZSByZXF1ZXN0LlxyXG4gICAqXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgcmVzcG9uc2UgYm9keSBhcyBhIEphdmFTY3JpcHQgb2JqZWN0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXQodXJsOiBzdHJpbmcsIG9wdGlvbnM/OiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgb2JzZXJ2ZT86ICdib2R5JyB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlPzogJ2pzb24nIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9IHwgdW5kZWZpbmVkKTogT2JzZXJ2YWJsZTxPYmplY3Q+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYEdFVGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgSlNPTiBhbmQgcmV0dXJuc1xyXG4gICAqIHRoZSByZXNwb25zZSBib2R5IGluIGEgZ2l2ZW4gdHlwZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgYEh0dHBSZXNwb25zZWAsIHdpdGggYSByZXNwb25zZSBib2R5IGluIHRoZSByZXF1ZXN0ZWQgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0PFQ+KHVybDogc3RyaW5nLCBvcHRpb25zPzogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IG9ic2VydmU/OiAnYm9keScgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZT86ICdqc29uJyB8IHVuZGVmaW5lZDsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSB8IHVuZGVmaW5lZCk6IE9ic2VydmFibGU8VD47XHJcblxyXG4gIHB1YmxpYyBnZXQ8VD4odXJsOiBhbnksIG9wdGlvbnM6IGFueSA9IHt9KTogT2JzZXJ2YWJsZTxBcnJheUJ1ZmZlcj4gfCBPYnNlcnZhYmxlPEJsb2I+IHwgT2JzZXJ2YWJsZTxzdHJpbmc+IHwgT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8QXJyYXlCdWZmZXI+PiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PEJsb2I+PiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PHN0cmluZz4+IHwgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8QXJyYXlCdWZmZXI+PiB8IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEJsb2I+PiB8IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPHN0cmluZz4+IHwgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8T2JqZWN0Pj4gfCBPYnNlcnZhYmxlPE9iamVjdD4gfCBPYnNlcnZhYmxlPEh0dHBFdmVudDxPYmplY3Q+PiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PFQ+PiB8IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPFQ+PiB8IE9ic2VydmFibGU8VD4ge1xyXG4gICAgLy8gaW1wbGVtZW50YXRpb25cclxuICAgIG9wdGlvbnMgPSB7XHJcbiAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICAgIGNvbnRleHQ6IHRoaXMuX2FkZEd2TG9naW5Db250ZXh0KG9wdGlvbnMuY29udGV4dClcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLl9odHRwQ2xpZW50LmdldDxUPih1cmwsIG9wdGlvbnMpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYEhFQURgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGFuIGBBcnJheUJ1ZmZlcmAgYW5kXHJcbiAgICogcmV0dXJucyB0aGUgcmVzcG9uc2UgYXMgYW4gYEFycmF5QnVmZmVyYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgcmVzcG9uc2UsIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgYXMgYW4gYEFycmF5QnVmZmVyYC5cclxuICAgKi9cclxuICBwdWJsaWMgaGVhZCh1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IG9ic2VydmU/OiAnYm9keScgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8QXJyYXlCdWZmZXI+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYEhFQURgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgYEJsb2JgIGFuZCByZXR1cm5zXHJcbiAgICogdGhlIHJlc3BvbnNlIGFzIGEgYEJsb2JgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgcmVzcG9uc2UsIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgYXMgYSBgQmxvYmAuXHJcbiAgICovXHJcbiAgcHVibGljIGhlYWQodXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBvYnNlcnZlPzogJ2JvZHknIHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdibG9iJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8QmxvYj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgSEVBRGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYSB0ZXh0IHN0cmluZyBhbmQgcmV0dXJucyB0aGUgcmVzcG9uc2VcclxuICAgKiBhcyBhIHN0cmluZyB2YWx1ZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgcmVzcG9uc2UsIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgb2YgdHlwZSBzdHJpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIGhlYWQodXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBvYnNlcnZlPzogJ2JvZHknIHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICd0ZXh0Jzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8c3RyaW5nPjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBIRUFEYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBhbiAgYEFycmF5QnVmZmVyYFxyXG4gICAqICBhbmQgcmV0dXJucyB0aGUgZnVsbCBldmVudCBzdHJlYW0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsICAgICBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIFRoZSBIVFRQIG9wdGlvbnMgdG8gc2VuZCB3aXRoIHRoZSByZXF1ZXN0LlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgYWxsIGBIdHRwRXZlbnRgcyBmb3IgdGhlIHJlcXVlc3QsXHJcbiAgICogd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBhcyBhbiBgQXJyYXlCdWZmZXJgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBoZWFkKHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdldmVudHMnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PEFycmF5QnVmZmVyPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgSEVBRGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYSBgQmxvYmAgYW5kXHJcbiAgICogcmV0dXJucyB0aGUgZnVsbCBldmVudCBzdHJlYW0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsICAgICBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIFRoZSBIVFRQIG9wdGlvbnMgdG8gc2VuZCB3aXRoIHRoZSByZXF1ZXN0LlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgYWxsIGBIdHRwRXZlbnRgcyBmb3IgdGhlIHJlcXVlc3QsXHJcbiAgICogd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBhcyBhIGBCbG9iYC5cclxuICAgKi9cclxuICBwdWJsaWMgaGVhZCh1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAnZXZlbnRzJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdibG9iJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PEJsb2I+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBIRUFEYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBhIHRleHQgc3RyaW5nXHJcbiAgICogYW5kIHJldHVybnMgdGhlIGZ1bGwgZXZlbnQgc3RyZWFtLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIGFsbCBgSHR0cEV2ZW50YHMgZm9yIHRoZSByZXF1ZXN0LCB3aXRoIHRoZSByZXNwb25zZSBib2R5IG9mIHR5cGVcclxuICAgKiBzdHJpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIGhlYWQodXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ2V2ZW50cyc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAndGV4dCc7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxzdHJpbmc+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBIRUFEYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBKU09OXHJcbiAgICogYW5kIHJldHVybnMgdGhlIGZ1bGwgSFRUUCBldmVudCBzdHJlYW0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsICAgICBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIFRoZSBIVFRQIG9wdGlvbnMgdG8gc2VuZCB3aXRoIHRoZSByZXF1ZXN0LlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgYWxsIGBIdHRwRXZlbnRgcyBmb3IgdGhlIHJlcXVlc3QsIHdpdGggYSByZXNwb25zZSBib2R5IG9mXHJcbiAgICogdHlwZSBgT2JqZWN0YC5cclxuICAgKi9cclxuICBwdWJsaWMgaGVhZCh1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAnZXZlbnRzJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU/OiAnanNvbicgfCB1bmRlZmluZWQ7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxPYmplY3Q+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBIRUFEYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBKU09OIGFuZFxyXG4gICAqIHJldHVybnMgdGhlIGZ1bGwgZXZlbnQgc3RyZWFtLlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgYWxsIHRoZSBgSHR0cEV2ZW50YHMgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggYSByZXNwb25zZSBib2R5IGluIHRoZSByZXF1ZXN0ZWQgdHlwZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgcHVibGljIGhlYWQ8VD4odXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ2V2ZW50cyc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlPzogJ2pzb24nIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8VD4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYEhFQURgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGFuIGBBcnJheUJ1ZmZlcmBcclxuICAgKiAgYW5kIHJldHVybnMgdGhlIGZ1bGwgSFRUUCByZXNwb25zZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgYEh0dHBSZXNwb25zZWAgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgYXMgYW4gYEFycmF5QnVmZmVyYC5cclxuICAgKi9cclxuICBwdWJsaWMgaGVhZCh1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAncmVzcG9uc2UnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEFycmF5QnVmZmVyPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgSEVBRGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYSBgQmxvYmAgYW5kIHJldHVybnNcclxuICAgKiB0aGUgZnVsbCBgSHR0cFJlc3BvbnNlYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgYEh0dHBSZXNwb25zZWAgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgYXMgYSBibG9iLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBoZWFkKHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdyZXNwb25zZSc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAnYmxvYic7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxCbG9iPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgSEVBRGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgdGV4dCBzdHJlYW1cclxuICAgKiBhbmQgcmV0dXJucyB0aGUgZnVsbCBgSHR0cFJlc3BvbnNlYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgYEh0dHBSZXNwb25zZWAgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgb2YgdHlwZSBzdHJpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIGhlYWQodXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ3Jlc3BvbnNlJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICd0ZXh0Jzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPHN0cmluZz4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYEhFQURgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIEpTT04gYW5kXHJcbiAgICogcmV0dXJucyB0aGUgZnVsbCBgSHR0cFJlc3BvbnNlYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgYEh0dHBSZXNwb25zZWAgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgb2YgdHlwZSBgT2JqZWN0YC5cclxuICAgKi9cclxuICBwdWJsaWMgaGVhZCh1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAncmVzcG9uc2UnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZT86ICdqc29uJyB8IHVuZGVmaW5lZDsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPE9iamVjdD4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYEhFQURgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIEpTT05cclxuICAgKiBhbmQgcmV0dXJucyB0aGUgZnVsbCBgSHR0cFJlc3BvbnNlYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgICAgIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgYEh0dHBSZXNwb25zZWAgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggYSByZXNwb25zZSBib2R5IG9mIHRoZSByZXF1ZXN0ZWQgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgaGVhZDxUPih1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAncmVzcG9uc2UnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZT86ICdqc29uJyB8IHVuZGVmaW5lZDsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPFQ+PjtcclxuXHJcbiAgLyoqXHJcbiAgICAqIENvbnN0cnVjdHMgYSBgSEVBRGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgSlNPTiBhbmRcclxuICAgICogcmV0dXJucyB0aGUgcmVzcG9uc2UgYm9keSBhcyBhbiBvYmplY3QgcGFyc2VkIGZyb20gSlNPTi5cclxuICAgICpcclxuICAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgICogQHBhcmFtIG9wdGlvbnMgVGhlIEhUVFAgb3B0aW9ucyB0byBzZW5kIHdpdGggdGhlIHJlcXVlc3QuXHJcbiAgICAqXHJcbiAgICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSByZXNwb25zZSwgd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBhcyBhbiBvYmplY3QgcGFyc2VkIGZyb20gSlNPTi5cclxuICAgICovXHJcbiAgcHVibGljIGhlYWQodXJsOiBzdHJpbmcsIG9wdGlvbnM/OiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgb2JzZXJ2ZT86ICdib2R5JyB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlPzogJ2pzb24nIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9IHwgdW5kZWZpbmVkKTogT2JzZXJ2YWJsZTxPYmplY3Q+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYEhFQURgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIEpTT04gYW5kIHJldHVybnNcclxuICAgKiB0aGUgcmVzcG9uc2UgaW4gYSBnaXZlbiB0eXBlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCAgICAgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgSFRUUCBvcHRpb25zIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSBgSHR0cFJlc3BvbnNlYCBmb3IgdGhlIHJlcXVlc3QsXHJcbiAgICogd2l0aCBhIHJlc3BvbnNlIGJvZHkgb2YgdGhlIGdpdmVuIHR5cGUuXHJcbiAgICovXHJcbiAgcHVibGljIGhlYWQ8VD4odXJsOiBzdHJpbmcsIG9wdGlvbnM/OiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgb2JzZXJ2ZT86ICdib2R5JyB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlPzogJ2pzb24nIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9IHwgdW5kZWZpbmVkKTogT2JzZXJ2YWJsZTxUPjtcclxuXHJcbiAgcHVibGljIGhlYWQ8VD4odXJsOiBhbnksIG9wdGlvbnM6IGFueSA9IHt9KTogT2JzZXJ2YWJsZTxBcnJheUJ1ZmZlcj4gfCBPYnNlcnZhYmxlPEJsb2I+IHwgT2JzZXJ2YWJsZTxzdHJpbmc+IHwgT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8QXJyYXlCdWZmZXI+PiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PEJsb2I+PiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PHN0cmluZz4+IHwgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8QXJyYXlCdWZmZXI+PiB8IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEJsb2I+PiB8IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPHN0cmluZz4+IHwgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8T2JqZWN0Pj4gfCBPYnNlcnZhYmxlPE9iamVjdD4gfCBPYnNlcnZhYmxlPEh0dHBFdmVudDxPYmplY3Q+PiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PFQ+PiB8IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPFQ+PiB8IE9ic2VydmFibGU8VD4ge1xyXG4gICAgLy8gaW1wbGVtZW50YXRpb25cclxuICAgIG9wdGlvbnMgPSB7XHJcbiAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICAgIGNvbnRleHQ6IHRoaXMuX2FkZEd2TG9naW5Db250ZXh0KG9wdGlvbnMuY29udGV4dClcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLl9odHRwQ2xpZW50LmhlYWQ8VD4odXJsLCBvcHRpb25zKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBKU09OUGAgcmVxdWVzdCBmb3IgdGhlIGdpdmVuIFVSTCBhbmQgbmFtZSBvZiB0aGUgY2FsbGJhY2sgcGFyYW1ldGVyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgcmVzb3VyY2UgVVJMLlxyXG4gICAqIEBwYXJhbSBjYWxsYmFja1BhcmFtIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBuYW1lLlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIHJlc3BvbnNlIG9iamVjdCwgd2l0aCByZXNwb25zZSBib2R5IGFzIGFuIG9iamVjdC5cclxuICAgKi9cclxuICBwdWJsaWMganNvbnAodXJsOiBzdHJpbmcsIGNhbGxiYWNrUGFyYW06IHN0cmluZyk6IE9ic2VydmFibGU8T2JqZWN0PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBKU09OUGAgcmVxdWVzdCBmb3IgdGhlIGdpdmVuIFVSTCBhbmQgbmFtZSBvZiB0aGUgY2FsbGJhY2sgcGFyYW1ldGVyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgcmVzb3VyY2UgVVJMLlxyXG4gICAqIEBwYXJhbSBjYWxsYmFja1BhcmFtIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBuYW1lLlxyXG4gICAqXHJcbiAgICogWW91IG11c3QgaW5zdGFsbCBhIHN1aXRhYmxlIGludGVyY2VwdG9yLCBzdWNoIGFzIG9uZSBwcm92aWRlZCBieSBgSHR0cENsaWVudEpzb25wTW9kdWxlYC5cclxuICAgKiBJZiBubyBzdWNoIGludGVyY2VwdG9yIGlzIHJlYWNoZWQsXHJcbiAgICogdGhlbiB0aGUgYEpTT05QYCByZXF1ZXN0IGNhbiBiZSByZWplY3RlZCBieSB0aGUgY29uZmlndXJlZCBiYWNrZW5kLlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIHJlc3BvbnNlIG9iamVjdCwgd2l0aCByZXNwb25zZSBib2R5IGluIHRoZSByZXF1ZXN0ZWQgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMganNvbnA8VD4odXJsOiBzdHJpbmcsIGNhbGxiYWNrUGFyYW06IHN0cmluZyk6IE9ic2VydmFibGU8VD47XHJcblxyXG4gIHB1YmxpYyBqc29ucDxUPih1cmw6IGFueSwgY2FsbGJhY2tQYXJhbTogYW55KTogT2JzZXJ2YWJsZTxPYmplY3Q+IHwgT2JzZXJ2YWJsZTxUPiB7XHJcbiAgICAvLyBpbXBsZW1lbnRhdGlvblxyXG4gICAgcmV0dXJuIHRoaXMuX2h0dHBDbGllbnQuanNvbnA8VD4odXJsLCBjYWxsYmFja1BhcmFtKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhbiBgT1BUSU9OU2AgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYW5cclxuICAgKiBgQXJyYXlCdWZmZXJgIGFuZCByZXR1cm5zIHRoZSByZXNwb25zZSBhcyBhbiBgQXJyYXlCdWZmZXJgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9ucy5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSByZXNwb25zZSwgd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBhcyBhbiBgQXJyYXlCdWZmZXJgLlxyXG4gICAqL1xyXG4gIG9wdGlvbnModXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBvYnNlcnZlPzogJ2JvZHknIHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcic7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEFycmF5QnVmZmVyPjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhbiBgT1BUSU9OU2AgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYSBgQmxvYmAgYW5kIHJldHVybnNcclxuICAgKiB0aGUgcmVzcG9uc2UgYXMgYSBgQmxvYmAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zLlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIHJlc3BvbnNlLCB3aXRoIHRoZSByZXNwb25zZSBib2R5IGFzIGEgYEJsb2JgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcHRpb25zKHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgb2JzZXJ2ZT86ICdib2R5JyB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAnYmxvYic7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEJsb2I+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGFuIGBPUFRJT05TYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBhIHRleHQgc3RyaW5nIGFuZFxyXG4gICAqIHJldHVybnMgYSBzdHJpbmcgdmFsdWUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zLlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIHJlc3BvbnNlLCB3aXRoIHRoZSByZXNwb25zZSBib2R5IG9mIHR5cGUgc3RyaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcHRpb25zKHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgb2JzZXJ2ZT86ICdib2R5JyB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAndGV4dCc7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPHN0cmluZz47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYW4gYE9QVElPTlNgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGFuIGBBcnJheUJ1ZmZlcmBcclxuICAgKiAgYW5kIHJldHVybnMgdGhlIGZ1bGwgZXZlbnQgc3RyZWFtLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9ucy5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gIEFuIGBPYnNlcnZhYmxlYCBvZiBhbGwgYEh0dHBFdmVudGBzIGZvciB0aGUgcmVxdWVzdCxcclxuICAgKiB3aXRoIHRoZSByZXNwb25zZSBib2R5IGFzIGFuIGBBcnJheUJ1ZmZlcmAuXHJcbiAgICovXHJcbiAgcHVibGljIG9wdGlvbnModXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ2V2ZW50cyc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8QXJyYXlCdWZmZXI+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhbiBgT1BUSU9OU2AgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYSBgQmxvYmAgYW5kXHJcbiAgICogcmV0dXJucyB0aGUgZnVsbCBldmVudCBzdHJlYW0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zLlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgYWxsIGBIdHRwRXZlbnRgcyBmb3IgdGhlIHJlcXVlc3QsXHJcbiAgICogd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBhcyBhIGBCbG9iYC5cclxuICAgKi9cclxuICBwdWJsaWMgb3B0aW9ucyh1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAnZXZlbnRzJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdibG9iJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PEJsb2I+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhbiBgT1BUSU9OU2AgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYSB0ZXh0IHN0cmluZ1xyXG4gICAqIGFuZCByZXR1cm5zIHRoZSBmdWxsIGV2ZW50IHN0cmVhbS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiBhbGwgdGhlIGBIdHRwRXZlbnRgcyBmb3IgdGhlIHJlcXVlc3QsXHJcbiAgICogd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBvZiB0eXBlIHN0cmluZy5cclxuICAgKi9cclxuICBwdWJsaWMgb3B0aW9ucyh1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAnZXZlbnRzJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICd0ZXh0Jzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PHN0cmluZz4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGFuIGBPUFRJT05TYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBKU09OXHJcbiAgICogYW5kIHJldHVybnMgdGhlIGZ1bGwgZXZlbnQgc3RyZWFtLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9ucy5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIGFsbCB0aGUgYEh0dHBFdmVudGBzIGZvciB0aGUgcmVxdWVzdCB3aXRoIHRoZSByZXNwb25zZVxyXG4gICAqIGJvZHkgb2YgdHlwZSBgT2JqZWN0YC5cclxuICAgKi9cclxuICBwdWJsaWMgb3B0aW9ucyh1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAnZXZlbnRzJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU/OiAnanNvbicgfCB1bmRlZmluZWQ7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxPYmplY3Q+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhbiBgT1BUSU9OU2AgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgSlNPTiBhbmRcclxuICAgKiByZXR1cm5zIHRoZSBmdWxsIGV2ZW50IHN0cmVhbS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiBhbGwgdGhlIGBIdHRwRXZlbnRgcyBmb3IgdGhlIHJlcXVlc3QsXHJcbiAgICogd2l0aCBhIHJlc3BvbnNlIGJvZHkgaW4gdGhlIHJlcXVlc3RlZCB0eXBlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcHRpb25zPFQ+KHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdldmVudHMnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZT86ICdqc29uJyB8IHVuZGVmaW5lZDsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PFQ+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhbiBgT1BUSU9OU2AgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYW4gYEFycmF5QnVmZmVyYFxyXG4gICAqICBhbmQgcmV0dXJucyB0aGUgZnVsbCBIVFRQIHJlc3BvbnNlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9ucy5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSBgSHR0cFJlc3BvbnNlYCBmb3IgdGhlIHJlcXVlc3QsXHJcbiAgICogd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBhcyBhbiBgQXJyYXlCdWZmZXJgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcHRpb25zKHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdyZXNwb25zZSc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8QXJyYXlCdWZmZXI+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhbiBgT1BUSU9OU2AgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYSBgQmxvYmBcclxuICAgKiAgYW5kIHJldHVybnMgdGhlIGZ1bGwgYEh0dHBSZXNwb25zZWAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zLlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIGBIdHRwUmVzcG9uc2VgIGZvciB0aGUgcmVxdWVzdCxcclxuICAgKiB3aXRoIHRoZSByZXNwb25zZSBib2R5IGFzIGEgYEJsb2JgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcHRpb25zKHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdyZXNwb25zZSc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAnYmxvYic7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxCbG9iPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYW4gYE9QVElPTlNgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIHRleHQgc3RyZWFtXHJcbiAgICogYW5kIHJldHVybnMgdGhlIGZ1bGwgYEh0dHBSZXNwb25zZWAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zLlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIGBIdHRwUmVzcG9uc2VgIGZvciB0aGUgcmVxdWVzdCxcclxuICAgKiB3aXRoIHRoZSByZXNwb25zZSBib2R5IG9mIHR5cGUgc3RyaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcHRpb25zKHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdyZXNwb25zZSc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAndGV4dCc7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxzdHJpbmc+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhbiBgT1BUSU9OU2AgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgSlNPTlxyXG4gICAqIGFuZCByZXR1cm5zIHRoZSBmdWxsIGBIdHRwUmVzcG9uc2VgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9ucy5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSBgSHR0cFJlc3BvbnNlYCBmb3IgdGhlIHJlcXVlc3QsXHJcbiAgICogd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBvZiB0eXBlIGBPYmplY3RgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBvcHRpb25zKHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdyZXNwb25zZSc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlPzogJ2pzb24nIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8T2JqZWN0Pj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYW4gYE9QVElPTlNgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIEpTT04gYW5kXHJcbiAgICogcmV0dXJucyB0aGUgZnVsbCBgSHR0cFJlc3BvbnNlYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgYEh0dHBSZXNwb25zZWAgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggYSByZXNwb25zZSBib2R5IGluIHRoZSByZXF1ZXN0ZWQgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgb3B0aW9uczxUPih1cmw6IHN0cmluZywgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAncmVzcG9uc2UnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZT86ICdqc29uJyB8IHVuZGVmaW5lZDsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPFQ+PjtcclxuXHJcbiAgLyoqXHJcbiAgICAqIENvbnN0cnVjdHMgYW4gYE9QVElPTlNgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIEpTT04gYW5kIHJldHVybnMgdGhlXHJcbiAgICAqIHJlc3BvbnNlIGJvZHkgYXMgYW4gb2JqZWN0IHBhcnNlZCBmcm9tIEpTT04uXHJcbiAgICAqXHJcbiAgICAqIEBwYXJhbSB1cmwgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zLlxyXG4gICAgKlxyXG4gICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgcmVzcG9uc2UsIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgYXMgYW4gb2JqZWN0IHBhcnNlZCBmcm9tIEpTT04uXHJcbiAgICAqL1xyXG4gIHB1YmxpYyBvcHRpb25zKHVybDogc3RyaW5nLCBvcHRpb25zPzogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IG9ic2VydmU/OiAnYm9keScgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZT86ICdqc29uJyB8IHVuZGVmaW5lZDsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSB8IHVuZGVmaW5lZCk6IE9ic2VydmFibGU8T2JqZWN0PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhbiBgT1BUSU9OU2AgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgSlNPTiBhbmQgcmV0dXJucyB0aGVcclxuICAgKiByZXNwb25zZSBpbiBhIGdpdmVuIHR5cGUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zLlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIGBIdHRwUmVzcG9uc2VgLCB3aXRoIGEgcmVzcG9uc2UgYm9keSBvZiB0aGUgZ2l2ZW4gdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgb3B0aW9uczxUPih1cmw6IHN0cmluZywgb3B0aW9ucz86IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBvYnNlcnZlPzogJ2JvZHknIHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU/OiAnanNvbicgfCB1bmRlZmluZWQ7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0gfCB1bmRlZmluZWQpOiBPYnNlcnZhYmxlPFQ+O1xyXG5cclxuICBwdWJsaWMgb3B0aW9uczxUPih1cmw6IGFueSwgb3B0aW9uczogYW55ID0ge30pOiBPYnNlcnZhYmxlPEFycmF5QnVmZmVyPiB8IE9ic2VydmFibGU8QmxvYj4gfCBPYnNlcnZhYmxlPHN0cmluZz4gfCBPYnNlcnZhYmxlPEh0dHBFdmVudDxBcnJheUJ1ZmZlcj4+IHwgT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8QmxvYj4+IHwgT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8c3RyaW5nPj4gfCBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxBcnJheUJ1ZmZlcj4+IHwgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8QmxvYj4+IHwgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8c3RyaW5nPj4gfCBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxPYmplY3Q+PiB8IE9ic2VydmFibGU8T2JqZWN0PiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PE9iamVjdD4+IHwgT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8VD4+IHwgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8VD4+IHwgT2JzZXJ2YWJsZTxUPiB7XHJcbiAgICAgLy8gaW1wbGVtZW50YXRpb25cclxuICAgICBvcHRpb25zID0ge1xyXG4gICAgICAuLi5vcHRpb25zLFxyXG4gICAgICBjb250ZXh0OiB0aGlzLl9hZGRHdkxvZ2luQ29udGV4dChvcHRpb25zLmNvbnRleHQpXHJcbiAgICB9XHJcbiAgICAgcmV0dXJuIHRoaXMuX2h0dHBDbGllbnQub3B0aW9uczxUPih1cmwsIG9wdGlvbnMpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYFBBVENIYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBhbiBgQXJyYXlCdWZmZXJgIGFuZCByZXR1cm5zXHJcbiAgICogdGhlIHJlc3BvbnNlIGFzIGFuIGBBcnJheUJ1ZmZlcmAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIGJvZHkgVGhlIHJlc291cmNlcyB0byBlZGl0LlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9ucy5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSByZXNwb25zZSwgd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBhcyBhbiBgQXJyYXlCdWZmZXJgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXRjaCh1cmw6IHN0cmluZywgYm9keTogYW55LCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgb2JzZXJ2ZT86ICdib2R5JyB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxBcnJheUJ1ZmZlcj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgUEFUQ0hgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgYEJsb2JgIGFuZCByZXR1cm5zIHRoZSByZXNwb25zZVxyXG4gICAqIGFzIGEgYEJsb2JgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSByZXNvdXJjZXMgdG8gZWRpdC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgcmVzcG9uc2UsIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgYXMgYSBgQmxvYmAuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGNoKHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBvYnNlcnZlPzogJ2JvZHknIHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdibG9iJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8QmxvYj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgUEFUQ0hgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgdGV4dCBzdHJpbmcgYW5kXHJcbiAgICogcmV0dXJucyB0aGUgcmVzcG9uc2UgYXMgYSBzdHJpbmcgdmFsdWUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIGJvZHkgVGhlIHJlc291cmNlcyB0byBlZGl0LlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9ucy5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSByZXNwb25zZSwgd2l0aCBhIHJlc3BvbnNlIGJvZHkgb2YgdHlwZSBzdHJpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGNoKHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBvYnNlcnZlPzogJ2JvZHknIHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICd0ZXh0Jzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8c3RyaW5nPjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBQQVRDSGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYW4gYEFycmF5QnVmZmVyYCBhbmRcclxuICAgKiAgcmV0dXJucyB0aGUgZnVsbCBldmVudCBzdHJlYW0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIGJvZHkgVGhlIHJlc291cmNlcyB0byBlZGl0LlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9ucy5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIGFsbCB0aGUgYEh0dHBFdmVudGBzIGZvciB0aGUgcmVxdWVzdCxcclxuICAgKiB3aXRoIHRoZSByZXNwb25zZSBib2R5IGFzIGFuIGBBcnJheUJ1ZmZlcmAuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGNoKHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ2V2ZW50cyc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8QXJyYXlCdWZmZXI+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBQQVRDSGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYSBgQmxvYmBcclxuICAgKiAgYW5kIHJldHVybnMgdGhlIGZ1bGwgZXZlbnQgc3RyZWFtLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSByZXNvdXJjZXMgdG8gZWRpdC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiBhbGwgdGhlIGBIdHRwRXZlbnRgcyBmb3IgdGhlIHJlcXVlc3QsIHdpdGggdGhlXHJcbiAgICogcmVzcG9uc2UgYm9keSBhcyBgQmxvYmAuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGNoKHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ2V2ZW50cyc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAnYmxvYic7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxCbG9iPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgUEFUQ0hgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgdGV4dCBzdHJpbmcgYW5kXHJcbiAgICogcmV0dXJucyB0aGUgZnVsbCBldmVudCBzdHJlYW0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIGJvZHkgVGhlIHJlc291cmNlcyB0byBlZGl0LlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9ucy5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIGFsbCB0aGUgYEh0dHBFdmVudGBzIGZvciB0aGUgcmVxdWVzdCwgd2l0aCBhXHJcbiAgICogcmVzcG9uc2UgYm9keSBvZiB0eXBlIHN0cmluZy5cclxuICAgKi9cclxuICBwdWJsaWMgcGF0Y2godXJsOiBzdHJpbmcsIGJvZHk6IGFueSwgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAnZXZlbnRzJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICd0ZXh0Jzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PHN0cmluZz4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYFBBVENIYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBKU09OXHJcbiAgICogYW5kIHJldHVybnMgdGhlIGZ1bGwgZXZlbnQgc3RyZWFtLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSByZXNvdXJjZXMgdG8gZWRpdC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiBhbGwgdGhlIGBIdHRwRXZlbnRgcyBmb3IgdGhlIHJlcXVlc3QsXHJcbiAgICogd2l0aCBhIHJlc3BvbnNlIGJvZHkgb2YgdHlwZSBgT2JqZWN0YC5cclxuICAgKi9cclxuICBwdWJsaWMgcGF0Y2godXJsOiBzdHJpbmcsIGJvZHk6IGFueSwgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAnZXZlbnRzJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU/OiAnanNvbicgfCB1bmRlZmluZWQ7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxPYmplY3Q+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBQQVRDSGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgSlNPTlxyXG4gICAqIGFuZCByZXR1cm5zIHRoZSBmdWxsIGV2ZW50IHN0cmVhbS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gYm9keSBUaGUgcmVzb3VyY2VzIHRvIGVkaXQuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zLlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgYWxsIHRoZSBgSHR0cEV2ZW50YHMgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggYSByZXNwb25zZSBib2R5IGluIHRoZSByZXF1ZXN0ZWQgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgcGF0Y2g8VD4odXJsOiBzdHJpbmcsIGJvZHk6IGFueSwgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAnZXZlbnRzJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU/OiAnanNvbicgfCB1bmRlZmluZWQ7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxUPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgUEFUQ0hgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGFuIGBBcnJheUJ1ZmZlcmBcclxuICAgKiAgYW5kIHJldHVybnMgdGhlIGZ1bGwgYEh0dHBSZXNwb25zZWAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIGJvZHkgVGhlIHJlc291cmNlcyB0byBlZGl0LlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9ucy5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgYEh0dHBSZXNwb25zZWAgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgYXMgYW4gYEFycmF5QnVmZmVyYC5cclxuICAgKi9cclxuICBwdWJsaWMgcGF0Y2godXJsOiBzdHJpbmcsIGJvZHk6IGFueSwgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAncmVzcG9uc2UnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEFycmF5QnVmZmVyPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgUEFUQ0hgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgYEJsb2JgIGFuZCByZXR1cm5zIHRoZSBmdWxsXHJcbiAgICogYEh0dHBSZXNwb25zZWAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIGJvZHkgVGhlIHJlc291cmNlcyB0byBlZGl0LlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9ucy5cclxuICAgKlxyXG4gICAqIEByZXR1cm4gIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgYEh0dHBSZXNwb25zZWAgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgYXMgYSBgQmxvYmAuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGNoKHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ3Jlc3BvbnNlJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdibG9iJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEJsb2I+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBQQVRDSGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYSB0ZXh0IHN0cmVhbSBhbmQgcmV0dXJucyB0aGVcclxuICAgKiBmdWxsIGBIdHRwUmVzcG9uc2VgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSByZXNvdXJjZXMgdG8gZWRpdC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuICBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIGBIdHRwUmVzcG9uc2VgIGZvciB0aGUgcmVxdWVzdCxcclxuICAgKiB3aXRoIGEgcmVzcG9uc2UgYm9keSBvZiB0eXBlIHN0cmluZy5cclxuICAgKi9cclxuICBwdWJsaWMgcGF0Y2godXJsOiBzdHJpbmcsIGJvZHk6IGFueSwgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAncmVzcG9uc2UnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ3RleHQnOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8c3RyaW5nPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgUEFUQ0hgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIEpTT05cclxuICAgKiBhbmQgcmV0dXJucyB0aGUgZnVsbCBgSHR0cFJlc3BvbnNlYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gYm9keSBUaGUgcmVzb3VyY2VzIHRvIGVkaXQuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zLlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIGBIdHRwUmVzcG9uc2VgIGZvciB0aGUgcmVxdWVzdCxcclxuICAgKiB3aXRoIGEgcmVzcG9uc2UgYm9keSBpbiB0aGUgcmVxdWVzdGVkIHR5cGUuXHJcbiAgICovXHJcbiAgcHVibGljIHBhdGNoKHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ3Jlc3BvbnNlJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU/OiAnanNvbicgfCB1bmRlZmluZWQ7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxPYmplY3Q+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBQQVRDSGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgSlNPTlxyXG4gICAqIGFuZCByZXR1cm5zIHRoZSBmdWxsIGBIdHRwUmVzcG9uc2VgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSByZXNvdXJjZXMgdG8gZWRpdC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgYEh0dHBSZXNwb25zZWAgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggYSByZXNwb25zZSBib2R5IGluIHRoZSBnaXZlbiB0eXBlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwYXRjaDxUPih1cmw6IHN0cmluZywgYm9keTogYW55LCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdyZXNwb25zZSc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlPzogJ2pzb24nIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8VD4+O1xyXG5cclxuICAvKipcclxuICAgICogQ29uc3RydWN0cyBhIGBQQVRDSGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgSlNPTiBhbmRcclxuICAgICogcmV0dXJucyB0aGUgcmVzcG9uc2UgYm9keSBhcyBhbiBvYmplY3QgcGFyc2VkIGZyb20gSlNPTi5cclxuICAgICpcclxuICAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAgKiBAcGFyYW0gYm9keSBUaGUgcmVzb3VyY2VzIHRvIGVkaXQuXHJcbiAgICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9ucy5cclxuICAgICpcclxuICAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIHJlc3BvbnNlLCB3aXRoIHRoZSByZXNwb25zZSBib2R5IGFzIGFuIG9iamVjdCBwYXJzZWQgZnJvbSBKU09OLlxyXG4gICAgKi9cclxuICBwdWJsaWMgcGF0Y2godXJsOiBzdHJpbmcsIGJvZHk6IGFueSwgb3B0aW9ucz86IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBvYnNlcnZlPzogJ2JvZHknIHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU/OiAnanNvbicgfCB1bmRlZmluZWQ7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0gfCB1bmRlZmluZWQpOiBPYnNlcnZhYmxlPE9iamVjdD47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgUEFUQ0hgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIEpTT05cclxuICAgKiBhbmQgcmV0dXJucyB0aGUgcmVzcG9uc2UgaW4gYSBnaXZlbiB0eXBlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSByZXNvdXJjZXMgdG8gZWRpdC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuICBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIGBIdHRwUmVzcG9uc2VgIGZvciB0aGUgcmVxdWVzdCxcclxuICAgKiB3aXRoIGEgcmVzcG9uc2UgYm9keSBpbiB0aGUgZ2l2ZW4gdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgcGF0Y2g8VD4odXJsOiBzdHJpbmcsIGJvZHk6IGFueSwgb3B0aW9ucz86IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBvYnNlcnZlPzogJ2JvZHknIHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU/OiAnanNvbicgfCB1bmRlZmluZWQ7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0gfCB1bmRlZmluZWQpOiBPYnNlcnZhYmxlPFQ+O1xyXG5cclxuICBwdWJsaWMgcGF0Y2g8VD4odXJsOiBhbnksIGJvZHk6IGFueSwgb3B0aW9uczogYW55ID0ge30pOiBPYnNlcnZhYmxlPEFycmF5QnVmZmVyPiB8IE9ic2VydmFibGU8QmxvYj4gfCBPYnNlcnZhYmxlPHN0cmluZz4gfCBPYnNlcnZhYmxlPEh0dHBFdmVudDxBcnJheUJ1ZmZlcj4+IHwgT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8QmxvYj4+IHwgT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8c3RyaW5nPj4gfCBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxBcnJheUJ1ZmZlcj4+IHwgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8QmxvYj4+IHwgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8c3RyaW5nPj4gfCBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxPYmplY3Q+PiB8IE9ic2VydmFibGU8T2JqZWN0PiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PE9iamVjdD4+IHwgT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8VD4+IHwgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8VD4+IHwgT2JzZXJ2YWJsZTxUPiB7XHJcbiAgICAvLyBpbXBsZW1lbnRhdGlvblxyXG4gICAgb3B0aW9ucyA9IHtcclxuICAgICAgLi4ub3B0aW9ucyxcclxuICAgICAgY29udGV4dDogdGhpcy5fYWRkR3ZMb2dpbkNvbnRleHQob3B0aW9ucy5jb250ZXh0KVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuX2h0dHBDbGllbnQucGF0Y2g8VD4odXJsLCBib2R5LCBvcHRpb25zKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBQT1NUYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBhbiBgQXJyYXlCdWZmZXJgIGFuZCByZXR1cm5zXHJcbiAgICogYW4gYEFycmF5QnVmZmVyYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gYm9keSBUaGUgY29udGVudCB0byByZXBsYWNlIHdpdGguXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zLlxyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIHJlc3BvbnNlLCB3aXRoIHRoZSByZXNwb25zZSBib2R5IGFzIGFuIGBBcnJheUJ1ZmZlcmAuXHJcbiAgICovXHJcbiAgcHVibGljIHBvc3QodXJsOiBzdHJpbmcsIGJvZHk6IGFueSwgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IG9ic2VydmU/OiAnYm9keScgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8QXJyYXlCdWZmZXI+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYFBPU1RgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgYEJsb2JgIGFuZCByZXR1cm5zIHRoZVxyXG4gICAqIHJlc3BvbnNlIGFzIGEgYEJsb2JgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSBjb250ZW50IHRvIHJlcGxhY2Ugd2l0aC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnNcclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSByZXNwb25zZSwgd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBhcyBhIGBCbG9iYC5cclxuICAgKi9cclxuICBwdWJsaWMgcG9zdCh1cmw6IHN0cmluZywgYm9keTogYW55LCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgb2JzZXJ2ZT86ICdib2R5JyB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAnYmxvYic7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEJsb2I+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYFBPU1RgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgdGV4dCBzdHJpbmcgYW5kXHJcbiAgICogcmV0dXJucyB0aGUgcmVzcG9uc2UgYXMgYSBzdHJpbmcgdmFsdWUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIGJvZHkgVGhlIGNvbnRlbnQgdG8gcmVwbGFjZSB3aXRoLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9uc1xyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIHJlc3BvbnNlLCB3aXRoIGEgcmVzcG9uc2UgYm9keSBvZiB0eXBlIHN0cmluZy5cclxuICAgKi9cclxuICBwdWJsaWMgcG9zdCh1cmw6IHN0cmluZywgYm9keTogYW55LCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgb2JzZXJ2ZT86ICdib2R5JyB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAndGV4dCc7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPHN0cmluZz47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgUE9TVGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYW4gYEFycmF5QnVmZmVyYCBhbmRcclxuICAgKiByZXR1cm5zIHRoZSBmdWxsIGV2ZW50IHN0cmVhbS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gYm9keSBUaGUgY29udGVudCB0byByZXBsYWNlIHdpdGguXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiBhbGwgYEh0dHBFdmVudGBzIGZvciB0aGUgcmVxdWVzdCxcclxuICAgKiB3aXRoIHRoZSByZXNwb25zZSBib2R5IGFzIGFuIGBBcnJheUJ1ZmZlcmAuXHJcbiAgICovXHJcbiAgcHVibGljIHBvc3QodXJsOiBzdHJpbmcsIGJvZHk6IGFueSwgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAnZXZlbnRzJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcic7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxBcnJheUJ1ZmZlcj4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYFBPU1RgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgYEJsb2JgXHJcbiAgICogYW5kIHJldHVybnMgdGhlIHJlc3BvbnNlIGluIGFuIG9ic2VydmFibGUgb2YgdGhlIGZ1bGwgZXZlbnQgc3RyZWFtLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSBjb250ZW50IHRvIHJlcGxhY2Ugd2l0aC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnNcclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIGFsbCBgSHR0cEV2ZW50YHMgZm9yIHRoZSByZXF1ZXN0LCB3aXRoIHRoZSByZXNwb25zZSBib2R5IGFzIGBCbG9iYC5cclxuICAgKi9cclxuICBwdWJsaWMgcG9zdCh1cmw6IHN0cmluZywgYm9keTogYW55LCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdldmVudHMnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ2Jsb2InOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8QmxvYj4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYFBPU1RgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgdGV4dCBzdHJpbmcgYW5kIHJldHVybnMgdGhlIGZ1bGxcclxuICAgKiBldmVudCBzdHJlYW0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIGJvZHkgVGhlIGNvbnRlbnQgdG8gcmVwbGFjZSB3aXRoLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9uc1xyXG4gICAqXHJcbiAgICogQHJldHVybiAgQW4gYE9ic2VydmFibGVgIG9mIGFsbCBgSHR0cEV2ZW50YHMgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggYSByZXNwb25zZSBib2R5IG9mIHR5cGUgc3RyaW5nLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwb3N0KHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ2V2ZW50cyc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAndGV4dCc7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxzdHJpbmc+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIFBPU1QgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgSlNPTiBhbmQgcmV0dXJucyB0aGUgZnVsbFxyXG4gICAqIGV2ZW50IHN0cmVhbS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gYm9keSBUaGUgY29udGVudCB0byByZXBsYWNlIHdpdGguXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zXHJcbiAgICpcclxuICAgKiBAcmV0dXJuICBBbiBgT2JzZXJ2YWJsZWAgb2YgYWxsIGBIdHRwRXZlbnRgcyBmb3IgdGhlIHJlcXVlc3QsXHJcbiAgICogd2l0aCBhIHJlc3BvbnNlIGJvZHkgb2YgdHlwZSBgT2JqZWN0YC5cclxuICAgKi9cclxuICBwdWJsaWMgcG9zdCh1cmw6IHN0cmluZywgYm9keTogYW55LCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdldmVudHMnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZT86ICdqc29uJyB8IHVuZGVmaW5lZDsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PE9iamVjdD4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgUE9TVCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBKU09OIGFuZCByZXR1cm5zIHRoZSBmdWxsXHJcbiAgICogZXZlbnQgc3RyZWFtLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSBjb250ZW50IHRvIHJlcGxhY2Ugd2l0aC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnNcclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIGFsbCBgSHR0cEV2ZW50YHMgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggYSByZXNwb25zZSBib2R5IGluIHRoZSByZXF1ZXN0ZWQgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgcG9zdDxUPih1cmw6IHN0cmluZywgYm9keTogYW55LCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdldmVudHMnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZT86ICdqc29uJyB8IHVuZGVmaW5lZDsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cEV2ZW50PFQ+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIFBPU1QgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYW4gYEFycmF5QnVmZmVyYFxyXG4gICAqICBhbmQgcmV0dXJucyB0aGUgZnVsbCBgSHR0cFJlc3BvbnNlYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gYm9keSBUaGUgY29udGVudCB0byByZXBsYWNlIHdpdGguXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zXHJcbiAgICpcclxuICAgKiBAcmV0dXJuICBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIGBIdHRwUmVzcG9uc2VgIGZvciB0aGUgcmVxdWVzdCwgd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBhcyBhblxyXG4gICAqIGBBcnJheUJ1ZmZlcmAuXHJcbiAgICovXHJcbiAgcHVibGljIHBvc3QodXJsOiBzdHJpbmcsIGJvZHk6IGFueSwgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAncmVzcG9uc2UnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEFycmF5QnVmZmVyPj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgUE9TVGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYSBgQmxvYmAgYW5kIHJldHVybnMgdGhlIGZ1bGxcclxuICAgKiBgSHR0cFJlc3BvbnNlYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gYm9keSBUaGUgY29udGVudCB0byByZXBsYWNlIHdpdGguXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgYEh0dHBSZXNwb25zZWAgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgYXMgYSBgQmxvYmAuXHJcbiAgICovXHJcbiAgcHVibGljIHBvc3QodXJsOiBzdHJpbmcsIGJvZHk6IGFueSwgb3B0aW9uczogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBvYnNlcnZlOiAncmVzcG9uc2UnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ2Jsb2InOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8QmxvYj4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYFBPU1RgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgdGV4dCBzdHJlYW0gYW5kIHJldHVybnNcclxuICAgKiB0aGUgZnVsbCBgSHR0cFJlc3BvbnNlYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gYm9keSBUaGUgY29udGVudCB0byByZXBsYWNlIHdpdGguXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zXHJcbiAgICpcclxuICAgKiBAcmV0dXJuICBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIGBIdHRwUmVzcG9uc2VgIGZvciB0aGUgcmVxdWVzdCxcclxuICAgKiB3aXRoIGEgcmVzcG9uc2UgYm9keSBvZiB0eXBlIHN0cmluZy5cclxuICAgKi9cclxuICBwdWJsaWMgcG9zdCh1cmw6IHN0cmluZywgYm9keTogYW55LCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdyZXNwb25zZSc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAndGV4dCc7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxzdHJpbmc+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBQT1NUYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBKU09OXHJcbiAgICogYW5kIHJldHVybnMgdGhlIGZ1bGwgYEh0dHBSZXNwb25zZWAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIGJvZHkgVGhlIGNvbnRlbnQgdG8gcmVwbGFjZSB3aXRoLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9uc1xyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIGBIdHRwUmVzcG9uc2VgIGZvciB0aGUgcmVxdWVzdCwgd2l0aCBhIHJlc3BvbnNlIGJvZHkgb2YgdHlwZVxyXG4gICAqIGBPYmplY3RgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBwb3N0KHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ3Jlc3BvbnNlJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU/OiAnanNvbicgfCB1bmRlZmluZWQ7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxPYmplY3Q+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBQT1NUYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBKU09OIGFuZCByZXR1cm5zIHRoZVxyXG4gICAqIGZ1bGwgYEh0dHBSZXNwb25zZWAuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gYm9keSBUaGUgY29udGVudCB0byByZXBsYWNlIHdpdGguXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgYEh0dHBSZXNwb25zZWAgZm9yIHRoZSByZXF1ZXN0LCB3aXRoIGEgcmVzcG9uc2UgYm9keSBpbiB0aGVcclxuICAgKiByZXF1ZXN0ZWQgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgcG9zdDxUPih1cmw6IHN0cmluZywgYm9keTogYW55LCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdyZXNwb25zZSc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlPzogJ2pzb24nIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8VD4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYFBPU1RgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIEpTT05cclxuICAgKiBhbmQgcmV0dXJucyB0aGUgcmVzcG9uc2UgYm9keSBhcyBhbiBvYmplY3QgcGFyc2VkIGZyb20gSlNPTi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gYm9keSBUaGUgY29udGVudCB0byByZXBsYWNlIHdpdGguXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgcmVzcG9uc2UsIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgYXMgYW4gb2JqZWN0IHBhcnNlZCBmcm9tIEpTT04uXHJcbiAgICovXHJcbiAgcHVibGljIHBvc3QodXJsOiBzdHJpbmcsIGJvZHk6IGFueSwgb3B0aW9ucz86IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBvYnNlcnZlPzogJ2JvZHknIHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU/OiAnanNvbicgfCB1bmRlZmluZWQ7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0gfCB1bmRlZmluZWQpOiBPYnNlcnZhYmxlPE9iamVjdD47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgUE9TVGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgSlNPTlxyXG4gICAqIGFuZCByZXR1cm5zIGFuIG9ic2VydmFibGUgb2YgdGhlIHJlc3BvbnNlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSBjb250ZW50IHRvIHJlcGxhY2Ugd2l0aC5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnNcclxuICAgKlxyXG4gICAqIEByZXR1cm4gIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgYEh0dHBSZXNwb25zZWAgZm9yIHRoZSByZXF1ZXN0LCB3aXRoIGEgcmVzcG9uc2UgYm9keSBpbiB0aGVcclxuICAgKiByZXF1ZXN0ZWQgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgcG9zdDxUPih1cmw6IHN0cmluZywgYm9keTogYW55LCBvcHRpb25zPzogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IG9ic2VydmU/OiAnYm9keScgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZT86ICdqc29uJyB8IHVuZGVmaW5lZDsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSB8IHVuZGVmaW5lZCk6IE9ic2VydmFibGU8VD47XHJcblxyXG4gIHB1YmxpYyBwb3N0PFQ+KHVybDogYW55LCBib2R5OiBhbnksIG9wdGlvbnM6IGFueSA9IHt9KTogT2JzZXJ2YWJsZTxBcnJheUJ1ZmZlcj4gfCBPYnNlcnZhYmxlPEJsb2I+IHwgT2JzZXJ2YWJsZTxzdHJpbmc+IHwgT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8QXJyYXlCdWZmZXI+PiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PEJsb2I+PiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PHN0cmluZz4+IHwgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8QXJyYXlCdWZmZXI+PiB8IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEJsb2I+PiB8IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPHN0cmluZz4+IHwgT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8T2JqZWN0Pj4gfCBPYnNlcnZhYmxlPE9iamVjdD4gfCBPYnNlcnZhYmxlPEh0dHBFdmVudDxPYmplY3Q+PiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PFQ+PiB8IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPFQ+PiB8IE9ic2VydmFibGU8VD4ge1xyXG4gICAgLy8gaW1wbGVtZW50YXRpb25cclxuICAgIG9wdGlvbnMgPSB7XHJcbiAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICAgIGNvbnRleHQ6IHRoaXMuX2FkZEd2TG9naW5Db250ZXh0KG9wdGlvbnMuY29udGV4dClcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLl9odHRwQ2xpZW50LnBvc3Q8VD4odXJsLCBib2R5LCBvcHRpb25zKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBQVVRgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGFuIGBBcnJheUJ1ZmZlcmAgYW5kIHJldHVybnMgdGhlXHJcbiAgICogcmVzcG9uc2UgYXMgYW4gYEFycmF5QnVmZmVyYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gYm9keSBUaGUgcmVzb3VyY2VzIHRvIGFkZC91cGRhdGUuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgcmVzcG9uc2UsIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgYXMgYW4gYEFycmF5QnVmZmVyYC5cclxuICAgKi9cclxuICBwdWJsaWMgcHV0KHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBvYnNlcnZlPzogJ2JvZHknIHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcic7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEFycmF5QnVmZmVyPjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBQVVRgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgYEJsb2JgIGFuZCByZXR1cm5zXHJcbiAgICogdGhlIHJlc3BvbnNlIGFzIGEgYEJsb2JgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSByZXNvdXJjZXMgdG8gYWRkL3VwZGF0ZS5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnNcclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSByZXNwb25zZSwgd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBhcyBhIGBCbG9iYC5cclxuICAgKi9cclxuICBwdWJsaWMgcHV0KHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBvYnNlcnZlPzogJ2JvZHknIHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdibG9iJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8QmxvYj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgUFVUYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBhIHRleHQgc3RyaW5nIGFuZFxyXG4gICAqIHJldHVybnMgdGhlIHJlc3BvbnNlIGFzIGEgc3RyaW5nIHZhbHVlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSByZXNvdXJjZXMgdG8gYWRkL3VwZGF0ZS5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnNcclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSByZXNwb25zZSwgd2l0aCBhIHJlc3BvbnNlIGJvZHkgb2YgdHlwZSBzdHJpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHB1dCh1cmw6IHN0cmluZywgYm9keTogYW55LCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgb2JzZXJ2ZT86ICdib2R5JyB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAndGV4dCc7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPHN0cmluZz47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgUFVUYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBhbiBgQXJyYXlCdWZmZXJgIGFuZFxyXG4gICAqIHJldHVybnMgdGhlIGZ1bGwgZXZlbnQgc3RyZWFtLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSByZXNvdXJjZXMgdG8gYWRkL3VwZGF0ZS5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnNcclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIGFsbCBgSHR0cEV2ZW50YHMgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgYXMgYW4gYEFycmF5QnVmZmVyYC5cclxuICAgKi9cclxuICBwdWJsaWMgcHV0KHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ2V2ZW50cyc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8QXJyYXlCdWZmZXI+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBQVVRgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgYEJsb2JgIGFuZCByZXR1cm5zIHRoZSBmdWxsIGV2ZW50XHJcbiAgICogc3RyZWFtLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSByZXNvdXJjZXMgdG8gYWRkL3VwZGF0ZS5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnNcclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIGFsbCBgSHR0cEV2ZW50YHMgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggdGhlIHJlc3BvbnNlIGJvZHkgYXMgYSBgQmxvYmAuXHJcbiAgICovXHJcbiAgcHVibGljIHB1dCh1cmw6IHN0cmluZywgYm9keTogYW55LCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdldmVudHMnOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZTogJ2Jsb2InOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8QmxvYj4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYFBVVGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYSB0ZXh0IHN0cmluZyBhbmQgcmV0dXJucyB0aGUgZnVsbCBldmVudFxyXG4gICAqIHN0cmVhbS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gYm9keSBUaGUgcmVzb3VyY2VzIHRvIGFkZC91cGRhdGUuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiBhbGwgYEh0dHBFdmVudGBzIGZvciB0aGUgcmVxdWVzdCwgd2l0aCBhIHJlc3BvbnNlIGJvZHlcclxuICAgKiBvZiB0eXBlIHN0cmluZy5cclxuICAgKi9cclxuICBwdWJsaWMgcHV0KHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ2V2ZW50cyc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAndGV4dCc7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxzdHJpbmc+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBQVVRgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIEpTT04gYW5kIHJldHVybnMgdGhlIGZ1bGxcclxuICAgKiBldmVudCBzdHJlYW0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIGJvZHkgVGhlIHJlc291cmNlcyB0byBhZGQvdXBkYXRlLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9uc1xyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgYWxsIGBIdHRwRXZlbnRgcyBmb3IgdGhlIHJlcXVlc3QsIHdpdGggYSByZXNwb25zZSBib2R5IG9mXHJcbiAgICogdHlwZSBgT2JqZWN0YC5cclxuICAgKi9cclxuICBwdWJsaWMgcHV0KHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ2V2ZW50cyc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlPzogJ2pzb24nIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8T2JqZWN0Pj47XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBgUFVUYCByZXF1ZXN0IHRoYXQgaW50ZXJwcmV0cyB0aGUgYm9keSBhcyBKU09OIGFuZCByZXR1cm5zIHRoZVxyXG4gICAqIGZ1bGwgZXZlbnQgc3RyZWFtLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSByZXNvdXJjZXMgdG8gYWRkL3VwZGF0ZS5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnNcclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIGFsbCBgSHR0cEV2ZW50YHMgZm9yIHRoZSByZXF1ZXN0LFxyXG4gICAqIHdpdGggYSByZXNwb25zZSBib2R5IGluIHRoZSByZXF1ZXN0ZWQgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgcHV0PFQ+KHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ2V2ZW50cyc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlPzogJ2pzb24nIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8VD4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYFBVVGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYW5cclxuICAgKiBgQXJyYXlCdWZmZXJgIGFuZCByZXR1cm5zIGFuIG9ic2VydmFibGUgb2YgdGhlIGZ1bGwgSFRUUCByZXNwb25zZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB1cmwgVGhlIGVuZHBvaW50IFVSTC5cclxuICAgKiBAcGFyYW0gYm9keSBUaGUgcmVzb3VyY2VzIHRvIGFkZC91cGRhdGUuXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgSFRUUCBvcHRpb25zXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIEFuIGBPYnNlcnZhYmxlYCBvZiB0aGUgYEh0dHBSZXNwb25zZWAgZm9yIHRoZSByZXF1ZXN0LCB3aXRoIHRoZSByZXNwb25zZSBib2R5IGFzIGFuXHJcbiAgICogYEFycmF5QnVmZmVyYC5cclxuICAgKi9cclxuICBwdWJsaWMgcHV0KHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ3Jlc3BvbnNlJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcic7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxBcnJheUJ1ZmZlcj4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYFBVVGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgYSBgQmxvYmAgYW5kIHJldHVybnMgdGhlXHJcbiAgICogZnVsbCBIVFRQIHJlc3BvbnNlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSByZXNvdXJjZXMgdG8gYWRkL3VwZGF0ZS5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnNcclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSBgSHR0cFJlc3BvbnNlYCBmb3IgdGhlIHJlcXVlc3QsXHJcbiAgICogd2l0aCB0aGUgcmVzcG9uc2UgYm9keSBhcyBhIGBCbG9iYC5cclxuICAgKi9cclxuICBwdWJsaWMgcHV0KHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ3Jlc3BvbnNlJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU6ICdibG9iJzsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEJsb2I+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBQVVRgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGEgdGV4dCBzdHJlYW0gYW5kIHJldHVybnMgdGhlXHJcbiAgICogZnVsbCBIVFRQIHJlc3BvbnNlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSByZXNvdXJjZXMgdG8gYWRkL3VwZGF0ZS5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnNcclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSBgSHR0cFJlc3BvbnNlYCBmb3IgdGhlIHJlcXVlc3QsIHdpdGggYSByZXNwb25zZSBib2R5IG9mIHR5cGVcclxuICAgKiBzdHJpbmcuXHJcbiAgICovXHJcbiAgcHVibGljIHB1dCh1cmw6IHN0cmluZywgYm9keTogYW55LCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdyZXNwb25zZSc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlOiAndGV4dCc7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxzdHJpbmc+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBQVVRgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIEpTT04gYW5kIHJldHVybnMgdGhlIGZ1bGxcclxuICAgKiBIVFRQIHJlc3BvbnNlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSByZXNvdXJjZXMgdG8gYWRkL3VwZGF0ZS5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnNcclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSBgSHR0cFJlc3BvbnNlYCBmb3IgdGhlIHJlcXVlc3QsIHdpdGggYSByZXNwb25zZSBib2R5XHJcbiAgICogb2YgdHlwZSAnT2JqZWN0YC5cclxuICAgKi9cclxuICBwdWJsaWMgcHV0KHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM6IHsgaGVhZGVycz86IEh0dHBIZWFkZXJzIHwgeyBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTsgfSB8IHVuZGVmaW5lZDsgb2JzZXJ2ZTogJ3Jlc3BvbnNlJzsgY29udGV4dD86IEh0dHBDb250ZXh0IHwgdW5kZWZpbmVkOyBwYXJhbXM/OiBIdHRwUGFyYW1zIHwgeyBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCByZWFkb25seSAoc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbilbXTsgfSB8IHVuZGVmaW5lZDsgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuIHwgdW5kZWZpbmVkOyByZXNwb25zZVR5cGU/OiAnanNvbicgfCB1bmRlZmluZWQ7IHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IH0pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxPYmplY3Q+PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBQVVRgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGFuIGluc3RhbmNlIG9mIHRoZSByZXF1ZXN0ZWQgdHlwZSBhbmRcclxuICAgKiByZXR1cm5zIHRoZSBmdWxsIEhUVFAgcmVzcG9uc2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIGJvZHkgVGhlIHJlc291cmNlcyB0byBhZGQvdXBkYXRlLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9uc1xyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIGBIdHRwUmVzcG9uc2VgIGZvciB0aGUgcmVxdWVzdCxcclxuICAgKiB3aXRoIGEgcmVzcG9uc2UgYm9keSBpbiB0aGUgcmVxdWVzdGVkIHR5cGUuXHJcbiAgICovXHJcbiAgcHVibGljIHB1dDxUPih1cmw6IHN0cmluZywgYm9keTogYW55LCBvcHRpb25zOiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IG9ic2VydmU6ICdyZXNwb25zZSc7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlPzogJ2pzb24nIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8VD4+O1xyXG5cclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGEgYFBVVGAgcmVxdWVzdCB0aGF0IGludGVycHJldHMgdGhlIGJvZHkgYXMgSlNPTlxyXG4gICAqIGFuZCByZXR1cm5zIGFuIG9ic2VydmFibGUgb2YgSmF2YVNjcmlwdCBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdXJsIFRoZSBlbmRwb2ludCBVUkwuXHJcbiAgICogQHBhcmFtIGJvZHkgVGhlIHJlc291cmNlcyB0byBhZGQvdXBkYXRlLlxyXG4gICAqIEBwYXJhbSBvcHRpb25zIEhUVFAgb3B0aW9uc1xyXG4gICAqXHJcbiAgICogQHJldHVybiBBbiBgT2JzZXJ2YWJsZWAgb2YgdGhlIHJlc3BvbnNlIGFzIGEgSmF2YVNjcmlwdCBvYmplY3QuXHJcbiAgICovXHJcbiAgcHVibGljIHB1dCh1cmw6IHN0cmluZywgYm9keTogYW55LCBvcHRpb25zPzogeyBoZWFkZXJzPzogSHR0cEhlYWRlcnMgfCB7IFtoZWFkZXI6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdOyB9IHwgdW5kZWZpbmVkOyBjb250ZXh0PzogSHR0cENvbnRleHQgfCB1bmRlZmluZWQ7IG9ic2VydmU/OiAnYm9keScgfCB1bmRlZmluZWQ7IHBhcmFtcz86IEh0dHBQYXJhbXMgfCB7IFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKVtdOyB9IHwgdW5kZWZpbmVkOyByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7IHJlc3BvbnNlVHlwZT86ICdqc29uJyB8IHVuZGVmaW5lZDsgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgfSB8IHVuZGVmaW5lZCk6IE9ic2VydmFibGU8T2JqZWN0PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhIGBQVVRgIHJlcXVlc3QgdGhhdCBpbnRlcnByZXRzIHRoZSBib2R5IGFzIGFuIGluc3RhbmNlIG9mIHRoZSByZXF1ZXN0ZWQgdHlwZVxyXG4gICAqIGFuZCByZXR1cm5zIGFuIG9ic2VydmFibGUgb2YgdGhlIHJlcXVlc3RlZCB0eXBlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHVybCBUaGUgZW5kcG9pbnQgVVJMLlxyXG4gICAqIEBwYXJhbSBib2R5IFRoZSByZXNvdXJjZXMgdG8gYWRkL3VwZGF0ZS5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyBIVFRQIG9wdGlvbnNcclxuICAgKlxyXG4gICAqIEByZXR1cm4gQW4gYE9ic2VydmFibGVgIG9mIHRoZSByZXF1ZXN0ZWQgdHlwZS5cclxuICAgKi9cclxuICBwdWJsaWMgcHV0PFQ+KHVybDogc3RyaW5nLCBib2R5OiBhbnksIG9wdGlvbnM/OiB7IGhlYWRlcnM/OiBIdHRwSGVhZGVycyB8IHsgW2hlYWRlcjogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW107IH0gfCB1bmRlZmluZWQ7IGNvbnRleHQ/OiBIdHRwQ29udGV4dCB8IHVuZGVmaW5lZDsgb2JzZXJ2ZT86ICdib2R5JyB8IHVuZGVmaW5lZDsgcGFyYW1zPzogSHR0cFBhcmFtcyB8IHsgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgcmVhZG9ubHkgKHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4pW107IH0gfCB1bmRlZmluZWQ7IHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDsgcmVzcG9uc2VUeXBlPzogJ2pzb24nIHwgdW5kZWZpbmVkOyB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuIHwgdW5kZWZpbmVkOyB9IHwgdW5kZWZpbmVkKTogT2JzZXJ2YWJsZTxUPjtcclxuXHJcbiAgcHVibGljIHB1dDxUPih1cmw6IGFueSwgYm9keTogYW55LCBvcHRpb25zOiBhbnkgPSB7fSk6IE9ic2VydmFibGU8QXJyYXlCdWZmZXI+IHwgT2JzZXJ2YWJsZTxCbG9iPiB8IE9ic2VydmFibGU8c3RyaW5nPiB8IE9ic2VydmFibGU8SHR0cEV2ZW50PEFycmF5QnVmZmVyPj4gfCBPYnNlcnZhYmxlPEh0dHBFdmVudDxCbG9iPj4gfCBPYnNlcnZhYmxlPEh0dHBFdmVudDxzdHJpbmc+PiB8IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPEFycmF5QnVmZmVyPj4gfCBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxCbG9iPj4gfCBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxzdHJpbmc+PiB8IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPE9iamVjdD4+IHwgT2JzZXJ2YWJsZTxPYmplY3Q+IHwgT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8T2JqZWN0Pj4gfCBPYnNlcnZhYmxlPEh0dHBFdmVudDxUPj4gfCBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxUPj4gfCBPYnNlcnZhYmxlPFQ+IHtcclxuICAgIC8vIGltcGxlbWVudGF0aW9uXHJcbiAgICBvcHRpb25zID0ge1xyXG4gICAgICAuLi5vcHRpb25zLFxyXG4gICAgICBjb250ZXh0OiB0aGlzLl9hZGRHdkxvZ2luQ29udGV4dChvcHRpb25zLmNvbnRleHQpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5faHR0cENsaWVudC5wdXQ8VD4odXJsLCBib2R5LCBvcHRpb25zKVxyXG4gIH1cclxuXHJcbn1cclxuIl19